<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="Hao Xi"><meta name="description" content="1.StorageClassesStorageclassspecifierstellcompilerthedurationandvisibilityofthevariablesorobjectsdeclared,aswellas,wher"><meta name="keywords" content="C#"><title>Warm Up Series (7) – Keywords used in C++ · Kevin's Blog</title><link rel="icon" href="/favicon.ico"><link rel="canonical" href="http://yoursite.com/2012/03/28/warm-up-series-7-keywords-used-in-c/"><link rel="alternate" href="/atom.xml" title="Kevin's Blog"><link rel="stylesheet" href="/fonts/iconfont/iconfont.css"><link rel="stylesheet" href="/css/style.css"><script type="text/javascript">var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?Your baidu Analytics ID";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script type="text/javascript">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'Your Google Analytics ID', 'auto');
ga('send', 'pageview');</script></head><body><div id="main"><header><a href="/." class="logo">Kevin's Blog</a><ul class="nav"><li class="nav-link"><a href="/" target="_self">Home</a></li><li class="nav-link"><a href="/archives/" target="_self">Archives</a></li><li class="nav-link"><a href="/categories/" target="_self">Categories</a></li><li class="nav-link"><a href="/tags/" target="_self">Tags</a></li><li class="nav-link"><a href="/about/" target="_self">About</a></li></ul></header><section id="container"><article class="post"><h1 class="post-title">Warm Up Series (7) – Keywords used in C++</h1><span class="post-time">Mar 28, 2012</span><div id="sidebar" class="post-sidebar"><h3 class="heading">Contents</h3><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Storage-Classes"><span class="toc-text">1. Storage Classes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Constant-Values-const"><span class="toc-text">2. Constant Values - const</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Constant-Member-Function"><span class="toc-text">3. Constant Member Function</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-Keyword-volatile"><span class="toc-text">4. Keyword - volatile</span></a></li></ol></div><div class="post-content"><h3 id="1-Storage-Classes"><a href="#1-Storage-Classes" class="headerlink" title="1. Storage Classes"></a><strong>1. Storage Classes</strong></h3><ul>
<li>Storage class specifiers tell compiler the duration and visibility of the variables or objects declared, as well as, where the variables or objects should be stored.    </li>
<li>In C / C++ there are 4 different storage classes available: <em>automatic, external, static and register</em>.</li>
</ul>
<p><strong><em>Automatic Variable - auto</em></strong>     </p>
<ul>
<li>Local variables are variables declared within a function or blocks (after the opening brace, { of the block). Local variables are automatic by default. This means that they come to existence when the function in which it is declared is invoked and disappears when the function ends.     </li>
<li>Automatic variables are declared by using the keyword <em>auto</em>. But since the variables declared in functions are automatic by default, this keyword may be dropped in the declaration as you found in many source codes.     </li>
<li>The same variable names may be declared and used in different functions, but they are only known in the functions in which they are declared. This means, there is no confusion even if the same variables names are declared and used in different functions.     </li>
<li><p>Examples if we want explicitly declare the automatic type:</p>
<blockquote>
<font face="Courier New"><em>auto int x, y, z = 30;<br>auto char firstname;</em></font>  
</blockquote>
</li>
<li><p>Same as:</p>
<blockquote>
<font face="Courier New"><em>int x, y, z = 30;<br>char firstname;</em></font>  

</blockquote>
</li>
</ul>
<p><em><font face="Courier New"></font></em></p>
<p><strong><em>External Variable - extern</em></strong>     </p>
<ul>
<li>External variables are variables that are recognized globally, rather than locally. In other words, once declared, the variable can be used in any line of codes throughout the rest of the program.     </li>
<li>A variable defined outside a function is external. An external variable can also be declared within the function that uses it by using the keyword extern hence it can be accessed by other code in other files.     </li>
<li><p>Program segment example:</p>
<blockquote>
<font face="Courier New"><em>int value1;<br>char name;<br>double value2;<br>//three externally defined variables<br>main()<br>{<br>&#160;&#160;&#160; extern int value1;<br>&#160;&#160;&#160; extern char name;<br>&#160;&#160;&#160; extern double value2;<br>&#160;&#160;&#160; //three externally defined variables<br>&#160;&#160;&#160; //can be accessed from outside of this main()<br>&#160;&#160;&#160; extern value3;<br>&#160;&#160;&#160; //can be accessed from outside of this main()<br>&#160;&#160;&#160; …<br>}</em></font>  
</blockquote>
</li>
<li><p>Note that the group of extern declarations may be omitted entirely if the original definition occurs in the same file and before the function that uses them.    </p>
</li>
<li>Therefore in the above example, the three extern declarations may be dropped. However, including the extern keyword explicitly will allow the function to use external variable even if it is defined later in a file or even in a different file provided both files will be compiled and linked together.</li>
</ul>
<p><strong><em>Static Variable - static</em></strong>     </p>
<ul>
<li>In a single file program, static variables are defined within individual functions that they are local to the function in which they are defined. Static variables are local variables that retain their values throughout the lifetime of the program. In other words, their same (or the latest) values are still available when the function is re-invoked later.     </li>
<li>Their values can be utilized within the function in the same manner as other variables, but they cannot be accessed from outside of their defined function.     </li>
<li>The static has internal linkage (that is not visible from outside) except for the static members of a class that have external linkage. </li>
</ul>
<p><strong><em>Register Variable - register</em></strong>     </p>
<ul>
<li>The above three classes of variables are normally stored in computer memory. Register variables however are stored in the processor registers, where they can be accessed and manipulated faster. Register variables, like automatic variables, are local to the function in which they are declared.     </li>
<li>Defining certain variables to be register variables does not, however, guarantee that they will actually be treated as register variables.     </li>
<li>Registers will be assigned to these variables by compiler so long as they are available. If a register declaration cannot be fulfilled, the variables will be treated as automatic variables. So, it is not a mandatory for the compiler to fulfill the register variables.     </li>
<li>Usually, only register variables are assigned the register storage class. If all things equal, a program that makes use of register variables is likely to run faster than an identical program that uses just automatic variables.</li>
</ul>
<h3 id="2-Constant-Values-const"><a href="#2-Constant-Values-const" class="headerlink" title="2. Constant Values - const"></a><strong>2. Constant Values - const</strong></h3><ul>
<li>In the most basic form, the <em>const</em> keyword specifies that a variable’s value is constant and tells the compiler to prevent the programmer from modifying it.     </li>
<li><p>Example of the pointer declaration using <em>const</em> is shown below:</p>
<blockquote>
<font face="Courier New"><em>//Pointer to constant int<br>int const <em>PtrVar;<br>//Pointer to constant int<br>int const (</em>PtrVar);<br>//Constant pointer to int<br>int <em>const PtrVar;<br>//Constant pointer to int<br>int (</em>const PtrVar);</em></font>  
</blockquote>
</li>
<li><p>Program example:</p>
<blockquote>
<font face="Courier New"><em>//const variable<br>#include &lt;iostream&gt;<br>#include &lt;stdlib.h&gt;<br>int main()<br>{<br>&#160;&#160;&#160; //p = 10 is a constant value, cannot be modified<br>&#160;&#160;&#160; //during the program execution…<br>&#160;&#160;&#160; const int p = 10;<br>&#160;&#160;&#160; cout&lt;&lt;&quot;q = p + 20 = &quot;&lt;&lt;(p + 20)&lt;&lt;&quot; where, p = 10&quot;&lt;&lt;endl;<br>&#160;&#160;&#160; //The following code should generate error, because<br>&#160;&#160;&#160; //we try to modify the constant value…<br>&#160;&#160;&#160; //uncomment, recompile notice the error…<br>&#160;&#160;&#160; //p = 15;<br>&#160;&#160;&#160; //–p;<br>&#160;&#160;&#160; system(&quot;pause&quot;);<br>}</em></font>  
</blockquote>
</li>
<li><p>We can use the <em>const</em> keyword instead of the #define preprocessor directive to define constant values.     </p>
</li>
<li>In C, constant values default to external linkage, so they can appear only in source files but in C++, constant values default to internal linkage, which allows them to appear in header files.     </li>
<li>The <em>const</em> also can be used in pointer declaration. A pointer to a variable declared as <em>const</em> can be assigned only to a pointer that is also declared as <em>const</em>.     </li>
<li><p>Another program segment examples:</p>
<blockquote>
<font face="Courier New"><em>//a const pointer to a variable…<br>#include &lt;iostream&gt;<br>#include &lt;stdlib.h&gt;<br>int main()<br>{<br>&#160;&#160;&#160; //declare the pointers and let they point<br>&#160;&#160;&#160; //to something…<br>&#160;&#160;&#160; //non const pointer…<br>&#160;&#160;&#160; char <em>BuffOne = NULL, </em>BuffTwo = NULL;<br>&#160;&#160;&#160; //a constant pointer…<br>&#160;&#160;&#160; //assign the BuffOne pointer to PtrOne pointer<br>&#160;&#160;&#160; char <em>const PtrOne = BuffOne;<br>&#160;&#160;&#160; //Let it point to some data…<br>&#160;&#160;&#160; </em>PtrOne = ‘z’;<br>&#160;&#160;&#160; cout&lt;&lt;&quot;The value pointed by constant pointer is&quot;&lt;&lt;*PtrOne&lt;&lt;endl;<br>&#160;&#160;&#160; //The following code will generate error, because we try to assign non const pointer to const pointer…<br>&#160;&#160;&#160; //PtrOne = BuffTwo;<br>&#160;&#160;&#160; system(&quot;pause&quot;);<br>&#160;&#160;&#160; return 0;<br>}</em></font>  &gt; <font face="Courier New"><em>//a pointer to a const variable…<br>#include &lt;iostream&gt;<br>#include &lt;stdlib.h&gt;<br>int main()<br>{<br>&#160;&#160;&#160; const char <em>BuffOne = &quot;Testing&quot;;<br>&#160;&#160;&#160; cout&lt;&lt;&quot;The data pointed by BuffTwo is &quot;&lt;&lt;BuffOne&lt;&lt;endl;<br>&#160;&#160;&#160; //The const pointer BuffOne assigned to the<br>&#160;&#160;&#160; //const pointer ThePtr is OK…<br>&#160;&#160;&#160; const char </em>ThePtr = BuffOne;<br>&#160;&#160;&#160; cout&lt;&lt;&quot;The data pointed by ThePtr is &quot;&lt;&lt;ThePtr&lt;&lt;endl;<br>&#160;&#160;&#160; //The following code will generate an error<br>&#160;&#160;&#160; //cannot modify the const….<br>&#160;&#160;&#160; //*ThePtr = ‘z’;<br>&#160;&#160;&#160; system(&quot;pause&quot;);<br>&#160;&#160;&#160; return 0;<br>}           
</em></font>  
</blockquote>
</li>
<li><p>The const declaration also normally used in the definition of a function’s arguments, to indicate it would not change them as shown below making the code clearer and to avoid error. <font face="Courier New"><em>int strlen(const char []); </em></font></p>
</li>
</ul>
<h3 id="3-Constant-Member-Function"><a href="#3-Constant-Member-Function" class="headerlink" title="3. Constant Member Function"></a><strong>3. Constant Member Function</strong></h3><ul>
<li>When declaring a member function with the <em>const</em> keyword, this specifies that it is a read only function that does not modify the object (notice the differences between variable versus object) for which it is called.     </li>
<li>A constant member function cannot modify any data members or call any member functions that are not constant.     </li>
<li>Implicitly, the <em>const</em> has set the ‘can’t modify’ *this pointer. This can be changed by using the mutable (preferred) or _const<em>cast</em> operator.     </li>
<li>Pointer to constant data can be used as function parameters to prevent the function from modifying a parameter passed through a pointer.     </li>
<li>Place the <em>const</em> keyword after the closing parenthesis of the argument list.     </li>
<li><em>const</em> keyword is required in both the declaration and the definition.     </li>
<li><p>Program example:</p>
<blockquote>
<font face="Courier New"><em>//constant member function<br>#include &lt;iostream&gt;<br>#include &lt;stdlib.h&gt;<br>//——–Class declaration part————<br>class Date<br>{<br>&#160;&#160;&#160; int month;<br>public:<br>&#160;&#160;&#160; //we would test the month only…<br>&#160;&#160;&#160; Date (int mnt, int dy, int yr);<br>&#160;&#160;&#160; //A write function, so can’t be const<br>&#160;&#160;&#160; void SetMonth(int mnt);<br>&#160;&#160;&#160; //A read only function declaration<br>&#160;&#160;&#160; int GetMonth() const;<br>}; </em></font><br>   <font face="Courier New"><em><br><br>//——–Class implementation part———<br>Date::Date(int,int,int)<br>{<br>}<br>void Date::SetMonth(int mnt)<br>{<br>&#160;&#160;&#160; //Modify the non const member variable data<br>&#160;&#160;&#160; month = mnt;<br>}<br>//A read only function implementation<br>int Date::GetMonth() const<br>{<br>&#160;&#160;&#160; //Does not modify anything<br>&#160;&#160;&#160; return month;<br>}<br><br>//——-main program————<br>void main()<br>{<br>&#160;&#160;&#160; Date TheDate(7,4,2004);<br>&#160;&#160;&#160; //non const member function, OK<br>&#160;&#160;&#160; TheDate.SetMonth(11);<br>&#160;&#160;&#160; cout&lt;&lt;&quot;Month of the sample date is &quot;&lt;&lt;TheDate.GetMonth()&lt;&lt;endl;<br>&#160;&#160;&#160; //another dummy const object…<br>&#160;&#160;&#160; const Date BirthDate(7,4,1971);<br>&#160;&#160;&#160; //Then try to modify the const object, NOT OK<br>&#160;&#160;&#160; //BirthDate.SetMonth(5);<br>&#160;&#160;&#160; //const member function sending message…<br>&#160;&#160;&#160; BirthDate.GetMonth();<br>&#160;&#160;&#160; //So, the following shouldn’t have the output data…<br>&#160;&#160;&#160; cout&lt;&lt;&quot;Another silly call, the month is &quot;&lt;&lt;BirthDate.GetMonth()&lt;&lt;endl;<br>&#160;&#160;&#160; system(&quot;pause&quot;);<br>}
     </em></font>  
</blockquote>
</li>
<li><p>The const-ness of the function can be disabled by using the <em>mutable</em> keyword.</p>
</li>
</ul>
<h3 id="4-Keyword-volatile"><a href="#4-Keyword-volatile" class="headerlink" title="4. Keyword - volatile"></a><strong>4. Keyword - volatile</strong></h3><ul>
<li>It is a type qualifier used to declare an object or variable value that can be modified by other than the statement in the source codes itself, such as interrupt service routine and memory-mapped I/O port or concurrent thread execution.    </li>
<li>Keep in mind that although we have to concern about these volatile variable or object, most of the compilers nowadays have their own implementation how to handle this situation mainly for Win32 applications.     </li>
<li>For example if you want to create multithreaded program, there are C++ compiler or project settings for multithreaded program. You have to check your compiler documentation.     </li>
<li>When declaring an object to be volatile, we tell the compiler not to make any assumptions concerning the value of the object while evaluating expressions in which it occurs because the value could change at any moment.     </li>
<li>When a name is declared as volatile, the compiler reloads the value from memory each time it is accessed by the program. Volatile codes will not be optimized by compiler to make sure that the value read at any moment is accurate.     </li>
<li>Without optimization, for example permitting the redundant reads, the volatile may have no effect.     </li>
<li>The keyword volatile is used before or after the data type declaration. They cannot appear after the first comma in a multiple variable declaration.&#160; </li>
<li>When volatile is applied to the struct or union, the entire contents of the struct or union become volatile however we can also apply the volatile to the members of struct or union individually.     </li>
<li>volatile also applied to classes and their member functions.</li>
</ul>
</div></article><div class="tags"><a href="/tags/C/">C#</a></div><div class="paginator"><a href="/2012/03/28/warm-up-series-8-calling-conventions/" class="prev"><i class="iconfont icon-left"></i><span> Prev</span></a><a href="/2012/03/12/preparation-tips-for-a-behavioral-interview/" class="next"><span>Next</span><i class="iconfont icon-right"></i></a></div><section id="comments"><div id="disqus_thread"></div></section><script type="text/javascript">var disqus_config = function () {
    this.page.url = 'http://yoursite.com/2012/03/28/warm-up-series-7-keywords-used-in-c/';
    this.page.identifier = '2012/03/28/warm-up-series-7-keywords-used-in-c/';
    this.page.title = 'Warm Up Series (7) – Keywords used in C++';
};
(function() {
var d = document, s = d.createElement('script');

s.src = '//Your disqus ID.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();</script></section><footer><div class="copyright"><p class="power">Powered by <a href="https://hexo.io/">Hexo</a> and Theme by <a href="https://github.com/ahonn/hexo-theme-even"> Even</a></p><p class="since">&copy;2016<span class="heart"><i class="iconfont icon-heart"></i></span><span class="author">Hao Xi</span></p></div><label id="back2top"><i class="iconfont icon-up"></i></label></footer></div><script src="/js/zepto.min.js"></script><script src="/js/theme.js"></script></body></html>