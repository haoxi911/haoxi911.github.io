<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<title>
  
    Archive: 2012/3
  
</title>

<meta property="og:type" content="website">
<meta property="og:title" content="Kevin's Blog">
<meta property="og:url" content="http://yoursite.com/archives/2012/03/index.html">
<meta property="og:site_name" content="Kevin's Blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Kevin's Blog">


  <link rel="alternative" href="/atom.xml" title="Kevin&#39;s Blog" type="application/atom+xml">



  <link rel="icon" href="/favicon.png">


<link rel="stylesheet" href="/perfect-scrollbar/css/perfect-scrollbar.min.css">
<link rel="stylesheet" href="/styles/main.css">






</head>
<body
  
    class="monochrome"
  
  >
  <div class="mobile-header">
  <button class="sidebar-toggle" type="button">
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
  </button>
  <a class="title" href="/">Kevin&#39;s Blog</a>
</div>

  <div class="main-container">
    <div class="sidebar">
  <div class="header">
    <h1 class="title"><a href="/">Kevin&#39;s Blog</a></h1>
    
    <div class="info">
      <div class="content">
        
        
          <div class="author">Hao Xi</div>
        
      </div>
      
        <div class="avatar">
          
            <a href="/about"><img src="https://cn.gravatar.com/avatar/35fef74d731255cd569c2c2b0b9e87e4?s=200"></a>
          
        </div>
      
    </div>
  </div>
  <div class="body">
    
      
        <ul class="nav">
          
            
              <li class="category-list-container">
                <a href="javascript:;">Category</a>
                <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithms/">Algorithms</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Asp-Net/">Asp.Net</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Basic-Theory/">Basic Theory</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Default/">Default</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/GNU-Linux/">GNU/Linux</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Interview/">Interview</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kevin-s-Life/">Kevin's Life</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Performance/">Performance</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Phone/">Phone</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Programming/">Programming</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Rework/">Rework</a><span class="category-list-count">1</span></li></ul>
              </li>
            
          
            
              <li class="tag-list-container">
                <a href="javascript:;">Tag</a>
                <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/2011-Plan/">2011 Plan</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ACM-ICPC/">ACM-ICPC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ActiveX/">ActiveX</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AfterLogic/">AfterLogic</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Algorithms/">Algorithms</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/">Android</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Asp-Net/">Asp.Net</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BFS/">BFS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Business/">Business</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C#</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CLRS/">CLRS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Concurrent/">Concurrent</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Coverage/">Coverage</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Critical-Section/">Critical Section</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DFS/">DFS</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Data-Structure/">Data Structure</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Design-Pattern-Series/">Design Pattern Series</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Dovecot/">Dovecot</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Download-Website/">Download Website</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Dream/">Dream</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Email/">Email</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Environment-Variables/">Environment Variables</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/First-Post/">First Post</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Freelance/">Freelance</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GNOME/">GNOME</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Generic/">Generic</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Happiness/">Happiness</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Heap/">Heap</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/If-You-Are-The-One/">If You Are The One</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Interview/">Interview</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JobFinder/">JobFinder</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Josephus/">Josephus</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/KDE/">KDE</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/KMP/">KMP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Let-The-Bullet-Fly/">Let The Bullet Fly</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MSMQ/">MSMQ</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mac/">Mac</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Management/">Management</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Memory/">Memory</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Monte-Carlo/">Monte Carlo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Movies/">Movies</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mutex/">Mutex</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/My-Blogs/">My Blogs</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/My-Life/">My Life</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/My-Name/">My Name</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/">MySQL</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ncover/">Ncover</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nunit/">Nunit</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Old-Boys/">Old Boys</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Online-Judge/">Online Judge</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OpenMP/">OpenMP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Parallel-Programming/">Parallel Programming</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Postfix/">Postfix</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Present/">Present</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Primer/">Primer</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Queue/">Queue</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Reading/">Reading</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Recursion/">Recursion</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Reverse-Polish-Notation/">Reverse Polish Notation</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Rework/">Rework</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ShengYiJie/">ShengYiJie</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Silverlight/">Silverlight</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Singleton/">Singleton</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Sparse-Matrix/">Sparse Matrix</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Stack/">Stack</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Stirling-s-Formula/">Stirling's Formula</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/String-Matching/">String Matching</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Template/">Template</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Teru-Teru-Bouz/">Teru Teru Bouz</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/The-bright-eleven/">The bright eleven</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Theory/">Theory</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Thread/">Thread</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Trace/">Trace</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Translation/">Translation</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Triple-Table/">Triple Table</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unit-Test/">Unit Test</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VPS/">VPS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Webmail/">Webmail</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Wedding/">Wedding</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Windows/">Windows</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Windows-Phone-7/">Windows Phone 7</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/X-Window/">X Window</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Xml/">Xml</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iPhone/">iPhone</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vWorker/">vWorker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wget/">wget</a><span class="tag-list-count">1</span></li></ul>
              </li>
            
          
            
              <li class="archive-list-container">
                <a href="javascript:;">Archive</a>
                <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/">2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/">2012</a><span class="archive-list-count">17</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/">2011</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/">2010</a><span class="archive-list-count">25</span></li></ul>
              </li>
            
          
        </ul>
      
        <ul class="nav">
          
            
              <li>
                <a href="/" title="Homepage">Homepage</a>
              </li>
            
          
            
              <li>
                <a href="/archives" title="By Year">By Year</a>
              </li>
            
          
        </ul>
      
        <ul class="nav">
          
            
              <li>
                <a href="https://github.com/denjones/hexo-theme-chan" title="Chan" target="_blank" rel="external">Chan</a>
              </li>
            
          
            
              <li>
                <a href="https://github.com/denjones" title="Github" target="_blank" rel="external">Github</a>
              </li>
            
          
            
              <li>
                <a href="/atom.xml" title="RSS">RSS</a>
              </li>
            
          
        </ul>
      
    
  </div>
</div>

    <div class="main-content">
      
        <div style="max-width: 1000px">
      
          

  
  
    
      
      
      <section class="archives-wrap">
        <div class="archive-year-wrap">
          <h1><a href="/archives/2012" class="archive-year">2012</a></h1>
        </div>
        <div class="post-list">
    
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2012/03/28/warm-up-series-8-calling-conventions/" >
  Warm Up Series (8) – Calling Conventions
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2012/03/28/warm-up-series-8-calling-conventions/"><span class="article-date">
  2012-03-28
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Basic-Theory/">Basic Theory</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Basic-Theory/Programming/">Programming</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Basic-Theory/Programming/Warm-Up/">Warm Up</a></li></ul></li></ul></li></ul>
	</span>


        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C#</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>A &quot;calling convention&quot; is the way in which a function is called. The standard <font><font><font size="2"><em><font face="Courier New">__cdecl</font></em></font></font></font> is what has been used up until now, other common ones are <em><font size="2" face="Courier New">__stdcall</font></em>, <em><font size="2" face="Courier New">__fastcall</font></em>, and <em><font size="2" face="Courier New">__thiscall</font></em>, a less common convention used when writing hacks is <em><font size="2" face="Courier New">__declspec(naked)</font></em>.</p>
<h4 id="cdecl-is-the-default-calling-convention-on-most-C-compilers-The-properties-are-as-follows"><a href="#cdecl-is-the-default-calling-convention-on-most-C-compilers-The-properties-are-as-follows" class="headerlink" title="__cdecl is the default calling convention on most C compilers. The properties are as follows:"></a><font><font size="2"><em><font face="Courier New">__cdecl</font></em></font></font> is the default calling convention on most C compilers. The properties are as follows:</h4><ul>
<li>The caller places all the parameters on the stack*   The caller removes the parameters from the stack (often by adding the total size added to the stack pointer)  </li>
</ul>
<p><em><font size="2" face="Courier New">__stdcall</font></em> is another common calling convention. The properties are:</p>
<ul>
<li><p>The caller places all the parameters on the stack*   The called function removes the parameters from the stack, often by using the return instruction with a parameter equal to the number of parameters, &quot;ret xx&quot;  </p>
<p><pre><font size="4"></font></pre><br>The most useful part about <em><font size="2" face="Courier New">__stdcall</font></em> is that it tells a reverse engineer how many parameters are passed to any given function. In cases where no examples of the function being called may be found (possibly because it’s an exported DLL function), it is easier to check the return than to enumerate local variables.</p>
</li>
</ul>
<h4 id="fastcall-is-the-final-common-calling-convention-seen-All-implementations-of-fastcall-pass-parameters-in-registers-although-Microsoft-and-Borland-for-example-use-different-registers-Here-are-the-properties-of-Microsoft’s-fastcall-implementation"><a href="#fastcall-is-the-final-common-calling-convention-seen-All-implementations-of-fastcall-pass-parameters-in-registers-although-Microsoft-and-Borland-for-example-use-different-registers-Here-are-the-properties-of-Microsoft’s-fastcall-implementation" class="headerlink" title="__fastcall is the final common calling convention seen. All implementations of __fastcall pass parameters in registers, although Microsoft and Borland, for example, use different registers. Here are the properties of Microsoft’s __fastcall implementation:"></a><em><font size="2" face="Courier New">__fastcall</font></em> is the final common calling convention seen. All implementations of <em><font size="2" face="Courier New">__fastcall</font></em> pass parameters in registers, although Microsoft and Borland, for example, use different registers. Here are the properties of Microsoft’s <em><font size="2" face="Courier New">__fastcall</font></em> implementation:</h4><ul>
<li>First two parameters are passed in ecx and edx, respectively<em>   Third parameter and on are passed on the stack, as usual</em>   Functions clean up their own stack, if necessary</li>
</ul>
<p>Recognizing a <em><font size="2" face="Courier New">__fastcall</font></em> function is easy: look for ecx and edx being used without being initialized in a function.</p>
<p>A <em><font size="2" face="Courier New">__fastcall</font></em> with no parameters is identical to <font><font size="2"><em><font face="Courier New">__cdecl</font></em></font></font> and <em><font size="2" face="Courier New">__stdcall</font></em> with no parameters, and a <em><font size="2" face="Courier New">__fastcall</font></em> with a single parameter looks like <em><font size="2" face="Courier New">__thiscall</font></em>.</p>
<p>  <pre><font size="4"></font></pre><br>  <font size="2" face="Courier New"><font face="Verdana"></font><strong><em>thiscall</em></strong></font> is very similar to _<font size="2" face="Courier New">stdcall</font>_, except that a pointer to the class whose member is being called is passed in ecx.</p>
<ul>
<li><p>ecx is assigned a pointer to the class whose member is being called<em>   The parameters are placed on the stack, the same as <em><font size="2" face="Courier New">__stdcall</font></em></em>   The function cleans itself up, the same as <em><font size="2" face="Courier New">__stdcall</font></em></p>
<p><pre><font size="4"></font></pre><br><em><font size="2" face="Courier New">__declspec(naked)</font></em> is a Visual Studio-specific convention, can’t really be identified in assembly, since it’s identical to <font><font size="2"><em><font face="Courier New">__cdecl</font></em></font></font> once it reaches assembly. However, the special property of this convention is that the compiler will generate no code in a function. This allows the program, in a __asm{} block, to write everything from preserving registers to allocating local variables and returning. This is useful when patching a jump in the middle of code, since it prevents the function from changing registers without the programmer’s knowledge.</p>
</li>
</ul>

        
      </div>
    </div>

  

  
  
    
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2012/03/28/warm-up-series-7-keywords-used-in-c/" >
  Warm Up Series (7) – Keywords used in C++
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2012/03/28/warm-up-series-7-keywords-used-in-c/"><span class="article-date">
  2012-03-28
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Basic-Theory/">Basic Theory</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Basic-Theory/Programming/">Programming</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Basic-Theory/Programming/Warm-Up/">Warm Up</a></li></ul></li></ul></li></ul>
	</span>


        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C#</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <h3 id="1-Storage-Classes"><a href="#1-Storage-Classes" class="headerlink" title="1. Storage Classes"></a><strong>1. Storage Classes</strong></h3><ul>
<li>Storage class specifiers tell compiler the duration and visibility of the variables or objects declared, as well as, where the variables or objects should be stored.    </li>
<li>In C / C++ there are 4 different storage classes available: <em>automatic, external, static and register</em>.</li>
</ul>
<p><strong><em>Automatic Variable - auto</em></strong>     </p>
<ul>
<li>Local variables are variables declared within a function or blocks (after the opening brace, { of the block). Local variables are automatic by default. This means that they come to existence when the function in which it is declared is invoked and disappears when the function ends.     </li>
<li>Automatic variables are declared by using the keyword <em>auto</em>. But since the variables declared in functions are automatic by default, this keyword may be dropped in the declaration as you found in many source codes.     </li>
<li>The same variable names may be declared and used in different functions, but they are only known in the functions in which they are declared. This means, there is no confusion even if the same variables names are declared and used in different functions.     </li>
<li><p>Examples if we want explicitly declare the automatic type:</p>
<blockquote>
<font face="Courier New"><em>auto int x, y, z = 30;<br>auto char firstname;</em></font>  
</blockquote>
</li>
<li><p>Same as:</p>
<blockquote>
<font face="Courier New"><em>int x, y, z = 30;<br>char firstname;</em></font>  

</blockquote>
</li>
</ul>
<p><em><font face="Courier New"></font></em></p>
<p><strong><em>External Variable - extern</em></strong>     </p>
<ul>
<li>External variables are variables that are recognized globally, rather than locally. In other words, once declared, the variable can be used in any line of codes throughout the rest of the program.     </li>
<li>A variable defined outside a function is external. An external variable can also be declared within the function that uses it by using the keyword extern hence it can be accessed by other code in other files.     </li>
<li><p>Program segment example:</p>
<blockquote>
<font face="Courier New"><em>int value1;<br>char name;<br>double value2;<br>//three externally defined variables<br>main()<br>{<br>&#160;&#160;&#160; extern int value1;<br>&#160;&#160;&#160; extern char name;<br>&#160;&#160;&#160; extern double value2;<br>&#160;&#160;&#160; //three externally defined variables<br>&#160;&#160;&#160; //can be accessed from outside of this main()<br>&#160;&#160;&#160; extern value3;<br>&#160;&#160;&#160; //can be accessed from outside of this main()<br>&#160;&#160;&#160; …<br>}</em></font>  
</blockquote>
</li>
<li><p>Note that the group of extern declarations may be omitted entirely if the original definition occurs in the same file and before the function that uses them.    </p>
</li>
<li>Therefore in the above example, the three extern declarations may be dropped. However, including the extern keyword explicitly will allow the function to use external variable even if it is defined later in a file or even in a different file provided both files will be compiled and linked together.</li>
</ul>
<p><strong><em>Static Variable - static</em></strong>     </p>
<ul>
<li>In a single file program, static variables are defined within individual functions that they are local to the function in which they are defined. Static variables are local variables that retain their values throughout the lifetime of the program. In other words, their same (or the latest) values are still available when the function is re-invoked later.     </li>
<li>Their values can be utilized within the function in the same manner as other variables, but they cannot be accessed from outside of their defined function.     </li>
<li>The static has internal linkage (that is not visible from outside) except for the static members of a class that have external linkage. </li>
</ul>
<p><strong><em>Register Variable - register</em></strong>     </p>
<ul>
<li>The above three classes of variables are normally stored in computer memory. Register variables however are stored in the processor registers, where they can be accessed and manipulated faster. Register variables, like automatic variables, are local to the function in which they are declared.     </li>
<li>Defining certain variables to be register variables does not, however, guarantee that they will actually be treated as register variables.     </li>
<li>Registers will be assigned to these variables by compiler so long as they are available. If a register declaration cannot be fulfilled, the variables will be treated as automatic variables. So, it is not a mandatory for the compiler to fulfill the register variables.     </li>
<li>Usually, only register variables are assigned the register storage class. If all things equal, a program that makes use of register variables is likely to run faster than an identical program that uses just automatic variables.</li>
</ul>
<h3 id="2-Constant-Values-const"><a href="#2-Constant-Values-const" class="headerlink" title="2. Constant Values - const"></a><strong>2. Constant Values - const</strong></h3><ul>
<li>In the most basic form, the <em>const</em> keyword specifies that a variable’s value is constant and tells the compiler to prevent the programmer from modifying it.     </li>
<li><p>Example of the pointer declaration using <em>const</em> is shown below:</p>
<blockquote>
<font face="Courier New"><em>//Pointer to constant int<br>int const <em>PtrVar;<br>//Pointer to constant int<br>int const (</em>PtrVar);<br>//Constant pointer to int<br>int <em>const PtrVar;<br>//Constant pointer to int<br>int (</em>const PtrVar);</em></font>  
</blockquote>
</li>
<li><p>Program example:</p>
<blockquote>
<font face="Courier New"><em>//const variable<br>#include &lt;iostream&gt;<br>#include &lt;stdlib.h&gt;<br>int main()<br>{<br>&#160;&#160;&#160; //p = 10 is a constant value, cannot be modified<br>&#160;&#160;&#160; //during the program execution…<br>&#160;&#160;&#160; const int p = 10;<br>&#160;&#160;&#160; cout&lt;&lt;&quot;q = p + 20 = &quot;&lt;&lt;(p + 20)&lt;&lt;&quot; where, p = 10&quot;&lt;&lt;endl;<br>&#160;&#160;&#160; //The following code should generate error, because<br>&#160;&#160;&#160; //we try to modify the constant value…<br>&#160;&#160;&#160; //uncomment, recompile notice the error…<br>&#160;&#160;&#160; //p = 15;<br>&#160;&#160;&#160; //–p;<br>&#160;&#160;&#160; system(&quot;pause&quot;);<br>}</em></font>  
</blockquote>
</li>
<li><p>We can use the <em>const</em> keyword instead of the #define preprocessor directive to define constant values.     </p>
</li>
<li>In C, constant values default to external linkage, so they can appear only in source files but in C++, constant values default to internal linkage, which allows them to appear in header files.     </li>
<li>The <em>const</em> also can be used in pointer declaration. A pointer to a variable declared as <em>const</em> can be assigned only to a pointer that is also declared as <em>const</em>.     </li>
<li><p>Another program segment examples:</p>
<blockquote>
<font face="Courier New"><em>//a const pointer to a variable…<br>#include &lt;iostream&gt;<br>#include &lt;stdlib.h&gt;<br>int main()<br>{<br>&#160;&#160;&#160; //declare the pointers and let they point<br>&#160;&#160;&#160; //to something…<br>&#160;&#160;&#160; //non const pointer…<br>&#160;&#160;&#160; char <em>BuffOne = NULL, </em>BuffTwo = NULL;<br>&#160;&#160;&#160; //a constant pointer…<br>&#160;&#160;&#160; //assign the BuffOne pointer to PtrOne pointer<br>&#160;&#160;&#160; char <em>const PtrOne = BuffOne;<br>&#160;&#160;&#160; //Let it point to some data…<br>&#160;&#160;&#160; </em>PtrOne = ‘z’;<br>&#160;&#160;&#160; cout&lt;&lt;&quot;The value pointed by constant pointer is&quot;&lt;&lt;*PtrOne&lt;&lt;endl;<br>&#160;&#160;&#160; //The following code will generate error, because we try to assign non const pointer to const pointer…<br>&#160;&#160;&#160; //PtrOne = BuffTwo;<br>&#160;&#160;&#160; system(&quot;pause&quot;);<br>&#160;&#160;&#160; return 0;<br>}</em></font>  &gt; <font face="Courier New"><em>//a pointer to a const variable…<br>#include &lt;iostream&gt;<br>#include &lt;stdlib.h&gt;<br>int main()<br>{<br>&#160;&#160;&#160; const char <em>BuffOne = &quot;Testing&quot;;<br>&#160;&#160;&#160; cout&lt;&lt;&quot;The data pointed by BuffTwo is &quot;&lt;&lt;BuffOne&lt;&lt;endl;<br>&#160;&#160;&#160; //The const pointer BuffOne assigned to the<br>&#160;&#160;&#160; //const pointer ThePtr is OK…<br>&#160;&#160;&#160; const char </em>ThePtr = BuffOne;<br>&#160;&#160;&#160; cout&lt;&lt;&quot;The data pointed by ThePtr is &quot;&lt;&lt;ThePtr&lt;&lt;endl;<br>&#160;&#160;&#160; //The following code will generate an error<br>&#160;&#160;&#160; //cannot modify the const….<br>&#160;&#160;&#160; //*ThePtr = ‘z’;<br>&#160;&#160;&#160; system(&quot;pause&quot;);<br>&#160;&#160;&#160; return 0;<br>}           
</em></font>  
</blockquote>
</li>
<li><p>The const declaration also normally used in the definition of a function’s arguments, to indicate it would not change them as shown below making the code clearer and to avoid error. <font face="Courier New"><em>int strlen(const char []); </em></font></p>
</li>
</ul>
<h3 id="3-Constant-Member-Function"><a href="#3-Constant-Member-Function" class="headerlink" title="3. Constant Member Function"></a><strong>3. Constant Member Function</strong></h3><ul>
<li>When declaring a member function with the <em>const</em> keyword, this specifies that it is a read only function that does not modify the object (notice the differences between variable versus object) for which it is called.     </li>
<li>A constant member function cannot modify any data members or call any member functions that are not constant.     </li>
<li>Implicitly, the <em>const</em> has set the ‘can’t modify’ *this pointer. This can be changed by using the mutable (preferred) or _const<em>cast</em> operator.     </li>
<li>Pointer to constant data can be used as function parameters to prevent the function from modifying a parameter passed through a pointer.     </li>
<li>Place the <em>const</em> keyword after the closing parenthesis of the argument list.     </li>
<li><em>const</em> keyword is required in both the declaration and the definition.     </li>
<li><p>Program example:</p>
<blockquote>
<font face="Courier New"><em>//constant member function<br>#include &lt;iostream&gt;<br>#include &lt;stdlib.h&gt;<br>//——–Class declaration part————<br>class Date<br>{<br>&#160;&#160;&#160; int month;<br>public:<br>&#160;&#160;&#160; //we would test the month only…<br>&#160;&#160;&#160; Date (int mnt, int dy, int yr);<br>&#160;&#160;&#160; //A write function, so can’t be const<br>&#160;&#160;&#160; void SetMonth(int mnt);<br>&#160;&#160;&#160; //A read only function declaration<br>&#160;&#160;&#160; int GetMonth() const;<br>}; </em></font><br>   <font face="Courier New"><em><br><br>//——–Class implementation part———<br>Date::Date(int,int,int)<br>{<br>}<br>void Date::SetMonth(int mnt)<br>{<br>&#160;&#160;&#160; //Modify the non const member variable data<br>&#160;&#160;&#160; month = mnt;<br>}<br>//A read only function implementation<br>int Date::GetMonth() const<br>{<br>&#160;&#160;&#160; //Does not modify anything<br>&#160;&#160;&#160; return month;<br>}<br><br>//——-main program————<br>void main()<br>{<br>&#160;&#160;&#160; Date TheDate(7,4,2004);<br>&#160;&#160;&#160; //non const member function, OK<br>&#160;&#160;&#160; TheDate.SetMonth(11);<br>&#160;&#160;&#160; cout&lt;&lt;&quot;Month of the sample date is &quot;&lt;&lt;TheDate.GetMonth()&lt;&lt;endl;<br>&#160;&#160;&#160; //another dummy const object…<br>&#160;&#160;&#160; const Date BirthDate(7,4,1971);<br>&#160;&#160;&#160; //Then try to modify the const object, NOT OK<br>&#160;&#160;&#160; //BirthDate.SetMonth(5);<br>&#160;&#160;&#160; //const member function sending message…<br>&#160;&#160;&#160; BirthDate.GetMonth();<br>&#160;&#160;&#160; //So, the following shouldn’t have the output data…<br>&#160;&#160;&#160; cout&lt;&lt;&quot;Another silly call, the month is &quot;&lt;&lt;BirthDate.GetMonth()&lt;&lt;endl;<br>&#160;&#160;&#160; system(&quot;pause&quot;);<br>}
     </em></font>  
</blockquote>
</li>
<li><p>The const-ness of the function can be disabled by using the <em>mutable</em> keyword.</p>
</li>
</ul>
<h3 id="4-Keyword-volatile"><a href="#4-Keyword-volatile" class="headerlink" title="4. Keyword - volatile"></a><strong>4. Keyword - volatile</strong></h3><ul>
<li>It is a type qualifier used to declare an object or variable value that can be modified by other than the statement in the source codes itself, such as interrupt service routine and memory-mapped I/O port or concurrent thread execution.    </li>
<li>Keep in mind that although we have to concern about these volatile variable or object, most of the compilers nowadays have their own implementation how to handle this situation mainly for Win32 applications.     </li>
<li>For example if you want to create multithreaded program, there are C++ compiler or project settings for multithreaded program. You have to check your compiler documentation.     </li>
<li>When declaring an object to be volatile, we tell the compiler not to make any assumptions concerning the value of the object while evaluating expressions in which it occurs because the value could change at any moment.     </li>
<li>When a name is declared as volatile, the compiler reloads the value from memory each time it is accessed by the program. Volatile codes will not be optimized by compiler to make sure that the value read at any moment is accurate.     </li>
<li>Without optimization, for example permitting the redundant reads, the volatile may have no effect.     </li>
<li>The keyword volatile is used before or after the data type declaration. They cannot appear after the first comma in a multiple variable declaration.&#160; </li>
<li>When volatile is applied to the struct or union, the entire contents of the struct or union become volatile however we can also apply the volatile to the members of struct or union individually.     </li>
<li>volatile also applied to classes and their member functions.</li>
</ul>

        
      </div>
    </div>

  

  
  
    
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2012/03/16/build-and-install-mysql-for-pythonmysqldb-on-windows/" >
  Build and install MySQL for Python(MySQLdb) on Windows
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2012/03/16/build-and-install-mysql-for-pythonmysqldb-on-windows/"><span class="article-date">
  2012-03-16
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Programming/">Programming</a></li></ul>
	</span>


        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySQL/">MySQL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>There is no binary of MySQLdb for Python 2.6 on Windows, so I have to build it from the source. We’ll need to install MySQL, MySQL Connector C and <a href="http://pypi.python.org/pypi/setuptools" target="_blank" rel="external">Python setuptools</a>, and of course uncompressed MySQL-python-1.2.3.tar.gz.</p>
<p><u><em>Environment:</em></u></p>
<blockquote>
<font size="2" face="Courier New"><em>Windows 7, MySQL 5.5, MySQL Connector C 6.0.2, Python 2.6, MySQL-python-1.2.3, Microsoft VC2008(Visual Studio 9.0)</em></font>  

</blockquote>
<p><u><em>1. Edit site.cfg :</em></u></p>
<blockquote>
<p><font size="2"><em><font face="Courier New"># Change the version number accordingly.</font></em><br>_<font face="Courier New">registry<em>key = SOFTWARE\MySQL AB\MySQL Server 5.5</em></font><br></font><code>_&lt;font size=&quot;2&quot;&gt;# Append this line, Windows connector libs for MySQL.          
connector = C:\Program Files\MySQL\MySQL Connector C 6.0.2&lt;/font&gt;_</code>  </p>
</blockquote>
<p><u>_2. Edit setup<em>windows.py :</em></u></p>
<blockquote>
<p><code>&lt;font size=&quot;2&quot;&gt;_# Make the section in this file as below._         
&lt;/font&gt;_&lt;font size=&quot;2&quot;&gt;library_dirs = [ os.path.join(mysql_root, r&#39;lib\opt&#39;) ]          
library_dirs = [ os.path.join(options[&#39;connector&#39;], r&#39;lib\opt&#39;) ]           
libraries = [ &#39;kernel32&#39;, &#39;advapi32&#39;, &#39;wsock32&#39;, client ]           
include_dirs = [ os.path.join(mysql_root, r&#39;include&#39;) ]           
include_dirs = [ os.path.join(options[&#39;connector&#39;], r&#39;include&#39;) ]           
extra_compile_args = [ &#39;/Zl&#39; ]&lt;/font&gt;_</code>  </p>
</blockquote>
<p><u><em>3. Edit C:\Python26\Lib\distutils\msvc9compiler.py :</em></u></p>
<blockquote>
<font size="2"><font face="Courier New">_ld_args.append(‘/MANIFESTFILE:’ + temp<em>manifest) </em></font><br><font face="Courier New"><em># Append this line after above line.</em></font><br><font face="Courier New">_ld<em>args.append(‘/MANIFEST’)</em></font></font>  

</blockquote>
<p>Then go back to run <font face="Courier New"><em>setup.py build</em></font>&#160; and<font face="Courier New"> <em>setup.py install.</em></font></p>

        
      </div>
    </div>

  

  
  
    
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2012/03/13/top-10-open-source-web-based-project-management-software/" >
  Top 10 Open Source Web-Based Project Management Software
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2012/03/13/top-10-open-source-web-based-project-management-software/"><span class="article-date">
  2012-03-13
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Rework/">Rework</a></li></ul>
	</span>


        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Management/">Management</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>(From: <a href="http://www.cyberciti.biz/tips/open-source-project-management-software.html" target="_blank" rel="external">http://www.cyberciti.biz/tips/open-source-project-management-software.html</a>)</p>
<p>This is an user contributed article.</p>
<p>Project management software is not just for managing software based project. It can be used for variety of other tasks too. The web-based software must provide tools for planning, organizing and managing resources to achieve project goals and objectives. A web-based project management software can be accessed through an intranet or WAN / LAN using a web browser. You don’t have to install any other software on the system. The software can be easy of use with access control features (multi-user). I use project management software for all of our projects (for e.g. building a new cluster farm) for issue / bug-tracking, calender, gantt charts, email notification and much more.</p>
<p>Obviously I’m not the only user, the following open source software is used by some of the biggest research organizations and companies world wild. For example, NASA’s Jet Propulsion Laboratory uses track software or open source project such as lighttpd / phpbb use redmine software to keep track of their projects.<br>You use the following top 10 software for personal or business use. Keep track of all your projects in one place and finish them successfully on time.</p>
<h4 id="1-Codendi"><a href="#1-Codendi" class="headerlink" title="#1: Codendi"></a>#1: Codendi</h4><p>Codendi is an open-source collaborative development platform offered by Xerox. From only one interface, it gathers, all the needed tools for software development teams: management and versioning of code, bugs, requirements, documents, reporting, tests etc. It is mainly used for managing software project processes.</p>
<ul>
<li><a href="http://www.codendi.com/index_en.php" target="_blank" rel="external">Download Codendi</a>  </li>
</ul>
<h4 id="2-Redmine"><a href="#2-Redmine" class="headerlink" title="#2: Redmine"></a>#2: Redmine</h4><p>Redmine is a flexible project management web application. Written using Ruby on Rails framework, it is cross-platform and cross-database. It includes calendar and gantt charts to aid visual representation of projects and their deadlines.</p>
<ul>
<li><a href="http://www.redmine.org/" target="_blank" rel="external">Download redmine</a>  </li>
</ul>
<h4 id="3-ProjectPier"><a href="#3-ProjectPier" class="headerlink" title="#3: ProjectPier"></a>#3: ProjectPier</h4><p>ProjectPier is a Free, Open-Source, self-hosted PHP application for managing tasks, projects and teams through an intuitive web interface. ProjectPier will help your organization communicate, collaborate and get things done Its function is similar to commercial groupware/project management products, but allows the freedom and scalability of self-hosting.</p>
<ul>
<li><a href="http://www.projectpier.org/" target="_blank" rel="external">Download ProjectPier</a>  </li>
</ul>
<h4 id="4-Trac"><a href="#4-Trac" class="headerlink" title="#4: Trac"></a>#4: Trac</h4><p>Trac is an open source, web-based project management and bug-tracking tool. Trac allows hyperlinking information between a computer bug database, revision control and wiki content. It also serves as a web interface to a version control system like Subversion, Git, Mercurial, Bazaar and Darcs.</p>
<ul>
<li><a href="http://trac.edgewall.org/" target="_blank" rel="external">Download Trac</a>  </li>
</ul>
<h4 id="5-Project-HQ"><a href="#5-Project-HQ" class="headerlink" title="#5: Project HQ"></a>#5: Project HQ</h4><p>Project HQ is a collaborative open source project management tool, similar to Basecamp and activeCollab. Project HQ is built on open source technologies like Python, Pylons and SQLAlchemy and is fully database independent. Project HQ uses a structured workflow to assist you in managing your projects.</p>
<ul>
<li><a href="http://projecthq.org/" target="_blank" rel="external">Download Project HQ</a>  </li>
</ul>
<h4 id="6-Collabtive"><a href="#6-Collabtive" class="headerlink" title="#6: Collabtive"></a>#6: Collabtive</h4><p>Collabtive is a web-based project management software that is being published as Open Source software. The project was started in November 2007. It strives to provide an Open Source alternative to proprietary tools like Basecamp or ActiveCollab.</p>
<ul>
<li><a href="http://collabtive.o-dyn.de/" target="_blank" rel="external">Download Collabtive</a>  </li>
</ul>
<h4 id="7-eGroupWare"><a href="#7-eGroupWare" class="headerlink" title="#7: eGroupWare"></a>#7: eGroupWare</h4><p>eGroupWare is a free open source groupware software intended for businesses from small to enterprises. Its primary functions allow users to manage contacts, appointments, projects and to-do lists.</p>
<p>It is used either via its native web-interface, making access platform-independent, or by using different supported groupware clients, such as Kontact, Novell Evolution, or Microsoft Outlook. It can also be used by mobile phone or PDA via SyncML.</p>
<ul>
<li><a href="http://www.egroupware.org/Home" target="_blank" rel="external">Download eGroupWare</a>  </li>
</ul>
<h4 id="8-KForge"><a href="#8-KForge" class="headerlink" title="#8: KForge"></a>#8: KForge</h4><p>KForge is an open-source (GPL) system for managing software and knowledge projects. It re-uses existing best-of-breed tools such as a versioned storage (subversion), a tracker (trac), and wiki (trac or moinmoin), integrating them with the system’s own facilities (projects, users, permissions etc). KForge also provides a complete web interface for project administration as well a fully-developed plugin system so that new services and features can be easily added.</p>
<ul>
<li><a href="http://www.kforgeproject.com/" target="_blank" rel="external">Download KForge</a>  </li>
</ul>
<h4 id="9-OpenGoo"><a href="#9-OpenGoo" class="headerlink" title="#9: OpenGoo"></a>#9: OpenGoo</h4><p>It is a complete online solution focused on improving productivity, collaboration, communication and management of your teams. OpenGoo main features include document management, contact management, e-mail, project management, and time management. Text documents and presentations can be created and edited online. Files can be uploaded, organized and shared, independent of file formats.</p>
<ul>
<li><a href="http://www.opengoo.org/" target="_blank" rel="external">Download OpenGoo</a>  </li>
</ul>
<h4 id="10-ClockingIT"><a href="#10-ClockingIT" class="headerlink" title="#10: ClockingIT"></a>#10: ClockingIT</h4><p>ClockingIT is a free Project Management solution, which helps your team stay focused and on top of things.</p>
<ul>
<li><a href="http://wiki.clockingit.com/" target="_blank" rel="external">Download ClockingIT</a>  </li>
</ul>
<h4 id="Ed-The-following-two-paragraphs-added-by-Vivek-Gite"><a href="#Ed-The-following-two-paragraphs-added-by-Vivek-Gite" class="headerlink" title="Ed: The following two paragraphs added by Vivek Gite:"></a>Ed: The following two paragraphs added by Vivek Gite:</h4><p>I also use project management software to keep track of how much time I spent per client and project.</p>
<h4 id="My-Personal-Choice"><a href="#My-Personal-Choice" class="headerlink" title="My Personal Choice"></a>My Personal Choice</h4><p>redmine is my personal choice because I like to use ruby on rails and I often work with small teams. We track networking issues, data center issues, capacity planning, trouble tickets and much more using redmine. I can track multiple projects and its flexible role-based access control make sure only authorized eyes can view the details.</p>
<h5 id="Other-FOSS-Project-Management-Software-Projects"><a href="#Other-FOSS-Project-Management-Software-Projects" class="headerlink" title="Other FOSS Project Management Software Projects"></a>Other FOSS Project Management Software Projects</h5><ol>
<li><a href="http://www.jotbug.org/" target="_blank" rel="external">JotBug</a></li>
<li><a href="http://www.bugzilla.org/" target="_blank" rel="external">Bugzilla</a> (only bug tracking)3.  <a href="http://openproj.org/openproj" target="_blank" rel="external">OpenProj (desktop app - replacement for MS-project)</a>  </li>
</ol>
<p>How do you manage your IT / software and other projects? Are you using a better option? Let us know in the comments.</p>

        
      </div>
    </div>

  

  
  
    
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2012/03/13/285/" >
  285
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2012/03/13/285/"><span class="article-date">
  2012-03-13
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Default/">Default</a></li></ul>
	</span>


        

      </div>
      <div class="article-entry">
        
          <p>Nice article in highlighting code with PHP.</p>

        
      </div>
    </div>

  

  
  
    
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2012/03/12/preparation-tips-for-a-behavioral-interview/" >
  Preparation Tips for a Behavioral Interview
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2012/03/12/preparation-tips-for-a-behavioral-interview/"><span class="article-date">
  2012-03-12
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Interview/">Interview</a></li></ul>
	</span>


        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Interview/">Interview</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>(From: <a href="http://jobsearchtech.about.com/od/gettingthejob/a/Interviewing_2.htm" target="_blank" rel="external">http://jobsearchtech.about.com/od/gettingthejob/a/Interviewing_2.htm</a>)</p>
<p>Preparing for a behavior based interview can be daunting. Here are some tips to get started:</p>
<ul>
<li><strong>Be familiar with the job</strong> for which you’re being interviewed. Read the advertisement or job description to identify which personal attributes and behaviors are likely to be key success factors for the role. For Client interviews it is advised that you research the company’s website and any external information about them from business directories etc.<br>Make a note of two or three examples for each personal attribute that will best illustrate your suitability - you may want to bring these into the interview with you as prompts. Remember that different companies and industries may require different personal attributes, even for the same position. For example, ‘self-managing’ can mean very different things to different companies.</li>
<li><strong>Be able to draw from a variety of experiences</strong> that demonstrate your skills and abilities. A good story can also combine work experience with a non-work experience (shows you can use the skill in a variety of settings). Examples may be from your work experience, your personal life or some social or other situation. Of course a unique work situation story (unless otherwise specifically requested) should take priority. Be as open, expressive and succinct as possible about each experience.</li>
<li><strong>Let others help you out </strong>- use examples of quotes from bosses or customers, i.e., &quot;My boss gave me a good performance review, they liked the way I stepped in to get the job done without being told to.&quot; This demonstrates your willingness to accept contribution, your flexibility and teamwork skills.</li>
<li><strong>Think ‘STAR’ - Situation or Task, Action and Result.</strong> There are several variations of this acronym in the recruiting industry, but all of them are intended to provide structure and focus to your answers. When asked about a type of situation, the interviewer is looking at how you responded to it by via a specific example. Using the STAR model you would break your answer into the three segments of; description of the task, then the action you took, and the final measurable result.<br>This makes it easier for the interviewer to visualize and record your specific behavioral responses to specific events and so gain the best impression of your potential future performance. Prepare at least one STAR response for each personal attribute you may be questioned on. Make sure you don’t use the same example for all the attributes.</li>
<li><strong>Use recent examples.</strong> As you will be probed for detail around the situation, it is better to use events in the last 12-18 months as the detail will be clearer in your mind. Be specific as possible about your contribution and the quantitative results achieved. Specific absolute or relative (%) gains in areas such as cost or time savings will give you the interviewer a clearer picture of your abilities. If specific measurable results don’t apply to your example, you might explain how it streamlined processes, empowered others or resolved communication or productivity issues.</li>
<li><strong>Practice telling your stories</strong> until they are vivid and concise, one to three minutes long. An interview can be likened to a marketing activity, where you are the brand. You will only get an interview because your resume and past roles suggest that you have the appropriate technical skills set (your attributes). Often what separates you from the other candidates at the interview stage is the interviewer’s belief in how you will fit into the company’s culture and specific IT team (your personal benefits).<br>Remember, you are selling your technical AND personal skills. Being able to communicate your adaptability and relatedness at an interview is essential to becoming the leading candidate. This ‘story telling practice’ is an important preparation tool to assist you in creating a natural flow to your stories so that the interviewer can focus on your potential benefit to the client.</li>
<li><strong>Ask to come back to the question.</strong> If you are stuck for an answer to a particular question, it is reasonable to ask the interviewer if you may move on to the next one and you’ll come back it.</li>
</ul>

        
      </div>
    </div>

  

  
  
    
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2012/03/09/warm-up-series-6-knowledge-of-heap-in-windows/" >
  Warm Up Series (6) – Knowledge of Heap in Windows
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2012/03/09/warm-up-series-6-knowledge-of-heap-in-windows/"><span class="article-date">
  2012-03-09
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Programming/">Programming</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Programming/Warm-Up/">Warm Up</a></li></ul></li></ul>
	</span>


        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Heap/">Heap</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Memory/">Memory</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Windows/">Windows</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <font size="2"><strong>1. 堆内存管理基础——转自《</strong></font><a href="http://book.51cto.com/art/200812/100341.htm" target="_blank" rel="external"><strong>软件调试</strong></a><strong>/第23章<font size="2"></font><font size="2">》</font></strong><br><br><font size="2">堆是内存管理功能向应用软件提供服务的一种方式。通过堆，内存管理器将一块较大的内存空间委托给堆管理器来管理。堆管理器将大块的内存分割成不同大小的很多个小块来满足应用程序的需要。应用程序的内存需求通常是频繁而且零散的，如果把这些请求都直接传递给位于内核中的内存管理器，那么必然影响系统的性能。有了堆管理器，内存管理器就只需要处理大规模的分配请求。这样做不仅可以减轻内存管理器的负担，也可以大大缩短应用程序申请内存所需的时间，提高程序的性能。下图画出了Windows系统中实现的多级内存分配体系。</font>

<p><a href="http://new.51cto.com/files/uploadimg/20081222/134510209.jpg" target="_blank" rel="external"><font size="2"><img src="http://images.51cto.com/files/uploadimg/20081222/134510209.jpg" alt=""></font></a><font size="2"></font></p>
<font size="2">图中，我们使用不同类型的箭头来代表不同层次的内存分配方法。具体来说，<u>用户态的代码应该调用虚拟内存分配API来从内存管理器分配内存</u>。虚拟内存API包括VirtualAlloc、VirtualFree、VirtualLock、VirtualUnlock、VirtualProtect、VirtualQuery等。内核态的代码可以调用以上API所对应的内核函数，比如NtAllocateVirtualMemory、NtProtectVirtualMemory等。</font>

<font size="2">为了满足内核空间中的驱动程序等内核态代码的内存分配需要，Windows的内核模块中实现了一系列函数来提供内存&quot;零售&quot;服务，为了与用户空间的堆管理器相区别，我们把这些函数统称为池管理器。池管理器公开了一组驱动程序接口（DDI）以向外提供服务，包括ExAllocatePool、ExAllocatePoolWithTag、ExFreePool等。</font>

<font size="2">与内核模块中的池管理器类似，在NTDLL.DLL中实现了一个通用的堆管理器，目的为用户态的应用程序提供内存服务，通常被称为<u>Win32堆管理器</u>。SDK中公开了一组API来访问Win32堆管理器的功能，比如HeapAlloc、HeapFree等。</font>

<font size="2">为了支持C的内存分配函数和C++的内存分配运算符，C运行库会创建一个专门的堆供这些函数使用，通常称为<u>CRT堆</u>。根据分配堆块的方式不同，CRT堆有三种工作模式：SBH(Small Block Heap)模式、旧SBH模式和系统模式(System Heap)，当创建CRT堆时，会选择其中的一种。对于前两种模式，CRT堆会使用<u>虚拟内存分配API</u>从内存管理器批发大的内存块过来，然后分割成小的堆块满足应用程序的需要。对于系统模式，CRT堆只是把堆块分配请求转发给它所基于的Win32堆，因此处于系统模式的CRT堆只是对Win32堆的一种简单封装，在原来的基础上又增加了一些附加的功能。</font>

<font size="2">应用程序开发商也可以实现自己的堆管理器，只要通过虚拟内存API从内存管理器&quot;批发&quot;内存块过来后提供给自己的客户代码使用，例如.NET里面的托管堆。</font>

<font size="2"></font>

<font size="2"></font>

<p><font size="2"><strong>2. CRT堆的分配使用——转自《<a href="http://clkrst.itpub.net/post/137/41162" target="_blank" rel="external">在一个模块中分配的内存在另外一个模块释放？</a></strong></font><strong><font size="2">》</font></strong></p>
<p>在Linux下，每个进程只有一个堆，在任何一个动态库模块中通过new或者malloc来分配内存的时候都是从这个唯一的堆中分配的，那么自然你在其它随便什么地方都可以释放。但是在Win下面，问题变得复杂了：<br><strong>1. </strong>Windows允许一个进程中有多个堆，那么这样就需要指明一块内存要在哪个堆上分配，Win32的HeapAlloc函数就是这样设计的，给出一个堆的句柄，给出一个大小，然后返回一个指针。每个进程都至少有一个主堆，可以通过GetProcessHeap来获得，其它的堆，可以通过GetProcessHeaps取到。同样，内存释放通过HeapFree来完成，还是需要指定一个堆。<br><strong>2. </strong>这样的设计比较灵活，但是问题在于，每次分配内存的时候就必须要显式的指定一个堆，对于CRT中的new/malloc，需要特殊处理。VC的CRT创建了一个单独的堆，叫做<strong>crtheap，它对于用户是看不见的，但是在new/malloc的实现中，都是用HeapAlloc在这个</strong>crtheap上分配的，也就是说malloc(size)基本上可以认为等同于HeapAlloc(__crtheap, size)（当然实际上CRT内部还要维护一些内存管理的数据结构，所以并不是每次malloc都必然会触发HeapAlloc），这样new/malloc就和Windows的堆机制吻合了。<br><strong>3. </strong>如果一个进程需要动态库支持，系统在加载dll的时候，在dll的启动_DllMainCRTStartup中，会创建这个CRT堆，所以理论上有多少个dll，就有多少个CRT堆。最后主进程的mainCRTStartup 中还会创建一个为主进程服务的CRT堆。（由于顺序总是先加载dll，然后才启动main进程，所以各个dll的CRT堆地址比较小，而主进程的CRT堆地址比较大，当然排在最前面的堆是每个进程的主堆。）<br><strong>4.</strong>从上面的分析中可以看出，对于CRT来说，由于每个dll都有自己的堆，所以每个dll通过new/malloc分配的内存都是在自己dll内部的那个堆上用HeapAlloc来分配的，而如果你想在其它模块中释放，那么在释放的时候HeapFree就会失败了，因为各个模块的CRT堆是不一样的。</p>
<p>在Windows下，一个进程存在着多个堆，除了一个主堆外，还有很多的CRT堆，用来处理通过C/C++的运行库进行的内存操作。所以使用new/malloc来分配的内存实际上都是局部的，可以在多个dll中共享，但是却必须是谁申请谁释放。当然如果在dll内部使用HeapAlloc(GetProcessHeap(), size)来分配的内存是可以在dll以外释放的，因为这时内存分配在全局的主堆上，而不是分配在dll自己的CRT堆上。</p>
<p>&#160;</p>
<p><strong>3. CRT堆的调试使用——转自《深入解析Win32 CRT 调试堆 (<a href="http://www.cppblog.com/legendlee/archive/2009/10/20/99054.html" target="_blank" rel="external">上</a>) (<a href="http://www.cppblog.com/legendlee/archive/2009/10/23/99278.html" target="_blank" rel="external">下</a>)》</strong></p>
<p>调试版本的CRT堆更关注对于堆错误的定位, 它通过以下三种手法实现以上诉求:</p>
<p><strong>1. </strong>用守护内存块包围新分配的内存, 这样就可以侦测到缓冲过载和欠载. 所谓守护内存块就是一系列被填充为0xfd的内存字节, 又被称为”无主之地”. 0xfd意为Fences(译注: 栅栏)</p>
<p><strong>2. </strong>用一个特殊的值(0xcd)初始化新申请的内存. 0xcd意为Clean Memory.</p>
<p><strong>3. </strong>同时用一个特殊的值填充(0xdd) 被释放的内存. 0xdd意为Dead Memory.</p>
<p>CDH(CRT Debug Heap)将大部分工作交由堆函数HeapAlloc()和HeapFree()完成, 每进程4Gb的虚地址空间的分块和管理是由Kernel32.dl中的Win32堆自己完成的. </p>
<p>当你调用malloc(8)分配8字节的内存时, CDH会调用HeapAlloc()申请48字节的内存, 额外的40字节被用来存放内存块的额外信息—-比如调用malloc()的源文件和行号, 以及指向上/下一个内存块的指针.在后面的列表中,<u> 所有的CRT调试信息均被标记为红色</u>.</p>
<p>HeaoAlloc()本身也需要记录簿记(bookkeeping)信息, 事实上,一个HeaoAlloc()调用会在进程地址空间里保留80字节内存, 其中8字节的簿记信息出现在真正使用的40字节之前, 剩下的32字节在真正使用的40字节之后.在下面的列表里, <u>Win32堆簿记信息被标记为灰色</u>.</p>
<p>CRT取得40字节的内存块后会填入自己的簿记信息. 头两个WORD用来存放直向”前一个”和”后一个”CRT堆内存块的指针. 这里的前后不能从字面去理解, 因为所谓指向”后一个”内存块的指针事实上指向的是时间顺序上紧邻本内存块之前分配的内存块, 相应的, 指向“前一个”的指针指向的是下一个将被分配的内存块. 之所以这样命名, 是因为内存块链表是从最后分配的内存块开始的. 同时, 为了使堆检查代码能遍历每个内存块, CDH还保存着第一块和最后一块内存的地址(_pFirstBlock和_pLastBlock).</p>
<p>如果调用malloc()代码所在的文件名和行号是已知的, 它们将被被保存在第三第四个字中, 紧接着下面一个字表示本块申请了多少字节内存. 再下面一个字是类型域, 等于1表示new或malloc()分配的普通块, 2表示CRT分配的供内部使用的块. 0表示已经被用户释放但是还未归还给Win32堆的块通常来说, 新申请的内存块本位置等于1. 最后一块是计数器, 每执行一次内存分配计数器加1.</p>
<p>通过malloc()得到的8字节内存无用内存包围. 这些空内存被填充为0xfd, 当整个内存块被free()时, CRT会检查这些空内存存放的值是否仍然是0xfd. 如果值改变了, 说明程序有错误存在. 真正被使用的8字节内存被初始化为0xcd, 如果你的对象中间出现连续的0xcd, 那么你一定是忘记了初始化一些东西.</p>
<p>当你调用free()释放上述8字节的内存时, CRT首先会用0xdddddddd填充全部48字节的内存块(包括簿记信息), 这样就可以通过检查这块内存的值获知这块内存在释放后是否又被写入过(比如使用野指针写内存).</p>
<p>接下来, CRT通常会调用HeapFree()函数将本内存块归还给win32堆, win32堆会将本内存块填充为0xFEEEFEEE. 注意, CRT并不维护”空闲块列表”, 这些都由HeapFree()来做(译注: 也就是说空闲列表是由Win32 堆来维护的). 但是, 你可以让CRT不把被释放的内存块归还给Win32堆 (译注: 也就是不调用HeapFree()), 方法是将_CRTDBG_DELAY_FREE_MEM_DF传递给_CrtSetDbgFlag(), 这在你跟踪野指针错误时将会派上用场, 在这种情况下, 内存不会被复用, 所以释放过的内存的值必然是0xdddddddd, 除非你对释放过的内存执行了写操作. 你可以调用_CrtCheckMemory()检查释放过的内存是否被篡改.(译注: 这个函数缺省情况下需要显式调用, 你也可以将_CRTDBG_CHECK_ALWAYS_DF传递给_CrtSetDbgFlag(), 这样每次分配和释放内存时都会调用_CrtCheckMemory())</p>
<p><strong>一个例子:</strong></p>
<p>下面是调用p = malloc(8)然后调用free(p)的过程中内存的变化表, malloc(8)返回的指针为0x00321000, 我列出了偏移后的内存值, 以便你找到你自己分配的内存信息.<br> <a href="http://kevinxi.files.wordpress.com/2012/03/image4.png" target="_blank" rel="external"><img src="http://kevinxi.files.wordpress.com/2012/03/image_thumb4.png" alt="image" title="image"></a></p>

        
      </div>
    </div>

  

  
  
    
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2012/03/08/warm-up-series-5-template-in-cpp-and-csharp/" >
  Warm Up Series (5) – Template in Cpp and CSharp
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2012/03/08/warm-up-series-5-template-in-cpp-and-csharp/"><span class="article-date">
  2012-03-08
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Programming/">Programming</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Programming/Warm-Up/">Warm Up</a></li></ul></li></ul>
	</span>


        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C#</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Generic/">Generic</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Template/">Template</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p><strong><font size="2" face="Verdana">1. C++模板的介绍</font></strong></p>
<font size="2" face="Verdana">C++模板主要包括类（包括class和union）模板以及函数模板。编译器在编译期间会对模板进行特化，根据不同的模板实参为每个泛型类型实例化一个强类型。M个泛型类型，N个模板实参，编译后将产生M x N个强类型。</font>

<font size="2" face="Verdana">C++模板的实例化是迟钝的，即只有在模板被实例化并使用时，才会真正的创建相关的特化类、特化函数。C++泛型的优点是灵活、高性能、易扩展；缺点是容易导致代码膨胀，过分特化会出现很复杂的函数名，给调试造成了不便；另外，C++模板在不同物理实现之间不能共享实例化的强类型（如组件A和组件B不能共享std::vector&lt;int&gt;）。</font>

<p><strong><font size="2" face="Verdana">2. C++模板的使用</font></strong><br>  <div style="border-bottom:silver 1px solid;text-align:left;border-left:silver 1px solid;line-height:12pt;background-color:#f4f4f4;width:97.5%;font-family:&#039;direction:ltr;max-height:200px;font-size:8pt;overflow:auto;border-top:silver 1px solid;cursor:text;border-right:silver 1px solid;margin:20px 0 10px;padding:4px;" id="codeSnippetWrapper">   <div style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;padding:0;" id="codeSnippet">     <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;"><span style="color:#606060;" id="lnum1">   1:</span> <span style="color:#008000;">//template function.</span></pre><br><!--CRLF--></div></div></p>
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum2&quot;&gt;   2:&lt;/span&gt; &lt;span style=&quot;color:#0000ff;&quot;&gt;template&lt;/span&gt;&amp;lt;&lt;span style=&quot;color:#0000ff;&quot;&gt;class&lt;/span&gt; T&amp;gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum3&quot;&gt;   3:&lt;/span&gt; &lt;span style=&quot;color:#0000ff;&quot;&gt;void&lt;/span&gt; swap(T &amp;amp;a, T &amp;amp;b)&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum4&quot;&gt;   4:&lt;/span&gt; {&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum5&quot;&gt;   5:&lt;/span&gt;     T temp = a;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum6&quot;&gt;   6:&lt;/span&gt;     a = b;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum7&quot;&gt;   7:&lt;/span&gt;     b = temp;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum8&quot;&gt;   8:&lt;/span&gt; };&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum9&quot;&gt;   9:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum10&quot;&gt;  10:&lt;/span&gt; &lt;span style=&quot;color:#008000;&quot;&gt;//template class&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum11&quot;&gt;  11:&lt;/span&gt; &lt;span style=&quot;color:#0000ff;&quot;&gt;template&lt;/span&gt;&amp;lt;&lt;span style=&quot;color:#0000ff;&quot;&gt;class&lt;/span&gt; T&amp;gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum12&quot;&gt;  12:&lt;/span&gt; &lt;span style=&quot;color:#0000ff;&quot;&gt;class&lt;/span&gt; Arrary&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum13&quot;&gt;  13:&lt;/span&gt; {&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum14&quot;&gt;  14:&lt;/span&gt; &lt;span style=&quot;color:#0000ff;&quot;&gt;private&lt;/span&gt;:&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum15&quot;&gt;  15:&lt;/span&gt;     T* ar;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum16&quot;&gt;  16:&lt;/span&gt;     &lt;span style=&quot;color:#0000ff;&quot;&gt;int&lt;/span&gt; l;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum17&quot;&gt;  17:&lt;/span&gt;     ...&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum18&quot;&gt;  18:&lt;/span&gt; };&lt;/pre&gt;
</code></pre><!--CRLF--><br><br><br><font size="2" face="Verdana">实例化可以分为<strong>显示实例化</strong>、<strong>隐式实例化</strong>；显示的实例化通过指定某一特定类型，使编译器强制的生成该类型的实例化代码；隐式实例化则是编译器通过对代码调用的解析，根据模板的使用情况生成相应的实例化代码；隐式实例化类模板时，同时也实例化了模板的每个成员声明，但并没有实例化相应的定义，然而存在例外：如果类模板包含了一个<u>匿名的union</u>，那么该union定义的成员同时也被实例化了；作为实例化类模板的结果，<u>虚函数</u>的定义可能被实例化，也可能没有，这依赖于具体的实现。 </font><br><br><div style="border-bottom:silver 1px solid;text-align:left;border-left:silver 1px solid;line-height:12pt;background-color:#f4f4f4;width:97.5%;font-family:&#039;direction:ltr;max-height:200px;font-size:8pt;overflow:auto;border-top:silver 1px solid;cursor:text;border-right:silver 1px solid;margin:20px 0 10px;padding:4px;" id="codeSnippetWrapper"><br>  <div style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;padding:0;" id="codeSnippet"><br>    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;"><span style="color:#606060;" id="lnum1">   1:</span> <span style="color:#008000;">//explicit instantiation.</span></pre><br><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum2&quot;&gt;   2:&lt;/span&gt; &lt;span style=&quot;color:#0000ff;&quot;&gt;template&lt;/span&gt; &lt;span style=&quot;color:#0000ff;&quot;&gt;void&lt;/span&gt; swap&amp;lt;&lt;span style=&quot;color:#0000ff;&quot;&gt;int&lt;/span&gt;&amp;gt;(&lt;span style=&quot;color:#0000ff;&quot;&gt;int&lt;/span&gt; &amp;amp;a, &lt;span style=&quot;color:#0000ff;&quot;&gt;int&lt;/span&gt; &amp;amp;b); &lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum3&quot;&gt;   3:&lt;/span&gt; &lt;span style=&quot;color:#0000ff;&quot;&gt;template&lt;/span&gt; &lt;span style=&quot;color:#0000ff;&quot;&gt;class&lt;/span&gt; Array&amp;lt;&lt;span style=&quot;color:#0000ff;&quot;&gt;int&lt;/span&gt;&amp;gt;; &lt;/pre&gt;
</code></pre><!--CRLF--></div><br></div><br><br><font size="2" face="Verdana">那么也有一种情况，比如我们希望给job类型提供一份特殊的实例化代码，这就需要使用模板的<strong>显示具体化</strong>，使编译器下面的实现，而不是通过上面的模板实例化。</font><br><br><div style="border-bottom:silver 1px solid;text-align:left;border-left:silver 1px solid;line-height:12pt;background-color:#f4f4f4;width:97.5%;font-family:&#039;direction:ltr;max-height:200px;font-size:8pt;overflow:auto;border-top:silver 1px solid;cursor:text;border-right:silver 1px solid;margin:20px 0 10px;padding:4px;" id="codeSnippetWrapper"><br>  <div style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;padding:0;" id="codeSnippet"><br>    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;"><span style="color:#606060;" id="lnum1">   1:</span> <span style="color:#008000;">//explicit specialization.</span></pre><br><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum2&quot;&gt;   2:&lt;/span&gt; &lt;span style=&quot;color:#0000ff;&quot;&gt;template&lt;/span&gt;&amp;lt;&amp;gt; &lt;span style=&quot;color:#0000ff;&quot;&gt;void&lt;/span&gt; swap&amp;lt;job&amp;gt;(job &amp;amp;a, job &amp;amp;b)&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum3&quot;&gt;   3:&lt;/span&gt; {&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum4&quot;&gt;   4:&lt;/span&gt;     &lt;span style=&quot;color:#0000ff;&quot;&gt;int&lt;/span&gt; salary = a.salary;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum5&quot;&gt;   5:&lt;/span&gt;     a.salary = b.salary;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum6&quot;&gt;   6:&lt;/span&gt;     b.salary = salary;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum7&quot;&gt;   7:&lt;/span&gt; };&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum8&quot;&gt;   8:&lt;/span&gt; &lt;span style=&quot;color:#0000ff;&quot;&gt;template&lt;/span&gt;&amp;lt;&amp;gt; &lt;span style=&quot;color:#0000ff;&quot;&gt;class&lt;/span&gt; Array&amp;lt;job&amp;gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum9&quot;&gt;   9:&lt;/span&gt; {&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum10&quot;&gt;  10:&lt;/span&gt;     ...&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum11&quot;&gt;  11:&lt;/span&gt; };&lt;/pre&gt;
</code></pre><p><!--CRLF--></p></div><br></div><p></p>
<font size="2"><font face="Verdana"><strong>3. C++模板实例化详解</strong> （请参考《</font></font><a href="http://blog.csdn.net/flowshell/article/details/6285711" target="_blank" rel="external"><font size="2" face="Verdana">C++模板实例化</font></a><font size="2" face="Verdana">》）</font>

<font size="2" face="Verdana">略。</font>

<font size="2" face="Verdana"><br><br><em> </em> *<br></font>

<p><strong><font size="2" face="Verdana">1. C#泛型的介绍</font></strong></p>
<font size="2" face="Verdana">C#的模板包括接口模板、类模板、成员函数模板。正确的说，C#的模板应该是指CLR的泛型，所以C++ CLR的模板实现和C#是一模一样的。在介绍C#泛型之前，让我们先看下Java的泛型实现；Java的泛型采用了代码共享技术，所有的实例化类型共享同一套强类型的代码。如List&lt;int&gt;和List&lt;string&gt;共享同一套强类型的代码List&lt;Object&gt;，这样实现有效的减少了代码生成量，但是因为涉及到</font><a href="http://www.cnblogs.com/huashanlin/archive/2007/05/16/749359.html" target="_blank" rel="external"><font size="2" face="Verdana">装箱、拆箱</font></a><font size="2" face="Verdana">，效率低且不够灵活。</font>

<font size="2" face="Verdana"></font>

<h5 id=""><a href="#" class="headerlink" title=""></a><font face="Verdana"></font></h5><font size="2" face="Verdana"></font>

<p><strong><font size="2" face="Verdana">2. C#泛型的实现</font></strong></p>
<font size="2" face="Verdana">C#的模板综合了C++和Java的泛型技术。采用了两阶段延迟特化的方式，从C#源码到IL的静态编译采用Java的代码共享思想，只生成一套抽象的IL代码，在CLR运行时JIT编译时，将IL的抽象代码即时编译，根据每个特化实参生成一个特化的强类型，如图：</font>

<font size="2" face="Verdana"><img src="http://www.99inf.net/SoftwareDev/UploadFiles_9259/200708/20078119191749.bmp" alt=""></font>

<font size="2" face="Verdana">C#的泛型兼备了C++模板和Java泛型的优点，代码简洁方便重用。值得一提的是，CLR对于引用类型，其泛型的工作方式略有不同。第一次使用任何引用类型构造泛型类型时，运行库会创建<strong>专用泛型类型</strong>，用对象引用替换IL中的参数。然后，每次使用引用类型实例化构造类型时，无论引用类型的具体类型是什么，运行库都会重用以前创建的泛型类型的专用版本。之所以可以这样，是因为所有引用的大小相同。</font>

<font size="2" face="Verdana">假设您有两个引用类型Customer和Order，并且您创建了Customer类型的一个泛型实例：Stack&lt;Customer&gt; customers；在此情况下，运行库生成Stack&lt;T&gt;类的一个专用版本，该版本不是存储数据，而是存储稍后将填写的对象引用。假设下一行代码创建另一个引用类型的堆栈泛型实例：Stack&lt;Order&gt; orders；不同于值类型，对于Order类型不创建Stack&lt;T&gt;类的另一个专用版本，而是创建Stack&lt;T&gt;类专用版本的一个实例，并将Order变量设置为引用它。因为引用类型的数量会随程序的不同而大幅变化，C#泛型将编译器为引用类型泛型类创建的专用类的数量减小到一个，大幅减少了代码量。</font>

<font size="2" face="Verdana"><br><br><em> </em> *<br></font>

<font size="2"><font face="Verdana"><strong>1.</strong> <strong>C++和C#泛型模型对比</strong></font></font>

<font size="2" face="Verdana">从整体上来说，因为C#为程序员提供了一致的编程方式，而且它在泛型编程的实现上借鉴了C++，所以相对C++，C#的泛型实现更简单、直接，但与此同时，C#在泛型实现并没有C++强大。下面是正对C++和C#在泛型实现方面的一个简单的对比：</font>

<p><strong><font size="2" face="Verdana"></font></strong></p>
<p><a href="http://kevinxi.files.wordpress.com/2012/03/image3.png" target="_blank" rel="external"><font size="2" face="Verdana"><img src="http://kevinxi.files.wordpress.com/2012/03/image_thumb3.png" alt="image" title="image"></font></a></p>
<font size="2" face="Verdana"><strong>2. 《</strong></font><a href="http://msdn.microsoft.com/zh-cn/library/c6cyy67b(v=vs.80" target="_blank" rel="external"><font size="2" face="Verdana"><strong>C++ 模板和 C# 泛型之间的区别</strong></font></a>.aspx)<font size="2" face="Verdana"><strong>》选自MSDN</strong></font>

<font size="2" face="Verdana">C#泛型和C++模板都是用于提供参数化类型支持的语言功能。然而，这两者之间存在许多差异。在语法层面上，C#泛型是实现参数化类型的更简单方法，不具有C++模板的复杂性。此外，C#并不尝试提供C++模板所提供的所有功能。在实现层面，主要区别在于，C#泛型类型替换是在运行时执行的，从而为实例化的对象保留了泛型类型信息。有关更多信息，请参见</font><a href="http://msdn.microsoft.com/zh-cn/library/f4a6ta2h(v=vs.80" target="_blank" rel="external"><font size="2" face="Verdana">运行库中的泛型（C# 编程指南）</font></a>.aspx)<br><br><font size="2">以下是C#泛型和C++模板之间的主要差异：</font>

<ul>
<li><font size="2" face="Verdana">C#泛型未提供与C++模板相同程度的灵活性。例如，尽管在C#泛型类中可以调用用户定义的运算符，但不能调用算术运算符。 </font></li>
<li><font size="2" face="Verdana">C#不允许非类型模板参数，如template C&lt;int i&gt;{}。 </font></li>
<li><font size="2" face="Verdana">C#不支持显式专用化，即特定类型的模板的自定义实现。 </font></li>
<li><font size="2" face="Verdana">C#不支持部分专用化：类型参数子集的自定义实现。 </font></li>
<li><font size="2" face="Verdana">C#不允许将类型参数用作泛型类型的基类。 </font></li>
<li><font size="2" face="Verdana">C#不允许类型参数具有默认类型。 </font></li>
<li><font size="2" face="Verdana">在C#中，尽管构造类型可用作泛型，但泛型类型参数自身不能是泛型。C++却是允许模板参数。 </font></li>
<li><font size="2" face="Verdana">C++允许那些可能并非对模板中的所有类型参数都有效的代码，然后将检查该代码中是否有用作类型参数的特定类型。C#要求相应地编写类中的代码，使之能够使用任何满足约束的类型。例如，可以在C++中编写对类型参数的对象使用算术运算符+和-的函数，这会在使用不支持这些运算符的类型来实例化模板时产生错误。C#不允许这样；唯一允许的语言构造是那些可从约束推导出来的构造。 </font>

</li>
</ul>
<font size="2" face="Verdana"></font>
        
      </div>
    </div>

  

  
  
    
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2012/03/07/sum1n-problem/" >
  SUM(1/N!) problem
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2012/03/07/sum1n-problem/"><span class="article-date">
  2012-03-07
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Algorithms/">Algorithms</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Algorithms/Programming/">Programming</a></li></ul></li></ul>
	</span>


        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Algorithms/">Algorithms</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C#</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>Hello, Anton</p>
<p>Here is my solution of the <a href="http://jetcracker.wordpress.com/2012/03/07/mpi-calculating-sum/" target="_blank" rel="external">SUM(1/N!)</a> problem, as for the low accuracy of a 32bit double value, there is no need to calculate 1/N! when N &gt;= 178.</p>
<p><u><em>Sample Code</em></u><br>  <div style="border-bottom:silver 1px solid;text-align:left;border-left:silver 1px solid;line-height:12pt;background-color:#f4f4f4;width:97.5%;font-family:&#039;direction:ltr;max-height:800px;font-size:8pt;overflow:auto;border-top:silver 1px solid;cursor:text;border-right:silver 1px solid;margin:20px 0 10px;padding:4px;" id="codeSnippetWrapper">   <div style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;padding:0;" id="codeSnippet">     <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;"><span style="color:#606060;" id="lnum1">   1:</span> <span style="color:#008000;">//<em>QUESTION</em></span></pre><br><!--CRLF--></div></div></p>
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum2&quot;&gt;   2:&lt;/span&gt; &lt;span style=&quot;color:#008000;&quot;&gt;//Calculate the SUM(1/N!), this problem is from Anton&apos;s blog, see:&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum3&quot;&gt;   3:&lt;/span&gt; &lt;span style=&quot;color:#008000;&quot;&gt;//http://jetcracker.wordpress.com/2012/03/07/mpi-calculating-sum/&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum4&quot;&gt;   4:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum5&quot;&gt;   5:&lt;/span&gt; &lt;span style=&quot;color:#cc6633;&quot;&gt;#include&lt;/span&gt; &amp;lt;stdio.h&amp;gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum6&quot;&gt;   6:&lt;/span&gt; &lt;span style=&quot;color:#cc6633;&quot;&gt;#include&lt;/span&gt; &amp;lt;omp.h&amp;gt; &lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum7&quot;&gt;   7:&lt;/span&gt; &lt;span style=&quot;color:#cc6633;&quot;&gt;#include&lt;/span&gt; &amp;lt;ctime&amp;gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum8&quot;&gt;   8:&lt;/span&gt; &lt;span style=&quot;color:#cc6633;&quot;&gt;#include&lt;/span&gt; &amp;lt;cmath&amp;gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum9&quot;&gt;   9:&lt;/span&gt; &lt;span style=&quot;color:#cc6633;&quot;&gt;#include&lt;/span&gt; &amp;lt;cstdlib&amp;gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum10&quot;&gt;  10:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum11&quot;&gt;  11:&lt;/span&gt; &lt;span style=&quot;color:#008000;&quot;&gt;//threads&apos; number set to openmp.&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum12&quot;&gt;  12:&lt;/span&gt; &lt;span style=&quot;color:#008000;&quot;&gt;//#define NUMBER_THREADS 4&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum13&quot;&gt;  13:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum14&quot;&gt;  14:&lt;/span&gt; &lt;span style=&quot;color:#008000;&quot;&gt;//*FACTORIAL*&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum15&quot;&gt;  15:&lt;/span&gt; &lt;span style=&quot;color:#008000;&quot;&gt;//Theory 1: While N &amp;gt;= 178, the value of 1/N! would be nearly to 0 and won&apos;t be &lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum16&quot;&gt;  16:&lt;/span&gt; &lt;span style=&quot;color:#008000;&quot;&gt;//            saved as &apos;double&apos; in 32bit machine, so it is actually a 1ms task.&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum17&quot;&gt;  17:&lt;/span&gt; &lt;span style=&quot;color:#008000;&quot;&gt;//Theory 2: 1/(N-1)! can be used to calculate 1/N! by multiply 1/N.&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum18&quot;&gt;  18:&lt;/span&gt; &lt;span style=&quot;color:#0000ff;&quot;&gt;double&lt;/span&gt; factorial()&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum19&quot;&gt;  19:&lt;/span&gt; {&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum20&quot;&gt;  20:&lt;/span&gt;     &lt;span style=&quot;color:#0000ff;&quot;&gt;int&lt;/span&gt; n = 177;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum21&quot;&gt;  21:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum22&quot;&gt;  22:&lt;/span&gt;     &lt;span style=&quot;color:#0000ff;&quot;&gt;double&lt;/span&gt; factor = 1;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum23&quot;&gt;  23:&lt;/span&gt;     &lt;span style=&quot;color:#0000ff;&quot;&gt;double&lt;/span&gt; retval = 1;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum24&quot;&gt;  24:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum25&quot;&gt;  25:&lt;/span&gt;     &lt;span style=&quot;color:#008000;&quot;&gt;//#pragma omp parallel for&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum26&quot;&gt;  26:&lt;/span&gt;     &lt;span style=&quot;color:#0000ff;&quot;&gt;for&lt;/span&gt; (&lt;span style=&quot;color:#0000ff;&quot;&gt;int&lt;/span&gt; i = 2; i &amp;lt;= n; i++)&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum27&quot;&gt;  27:&lt;/span&gt;     {&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum28&quot;&gt;  28:&lt;/span&gt;         factor *= (1.0 / (&lt;span style=&quot;color:#0000ff;&quot;&gt;double&lt;/span&gt;)i);&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum29&quot;&gt;  29:&lt;/span&gt;         retval += factor;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum30&quot;&gt;  30:&lt;/span&gt;     }&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum31&quot;&gt;  31:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum32&quot;&gt;  32:&lt;/span&gt;     &lt;span style=&quot;color:#0000ff;&quot;&gt;return&lt;/span&gt; retval;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum33&quot;&gt;  33:&lt;/span&gt; }&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum34&quot;&gt;  34:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum35&quot;&gt;  35:&lt;/span&gt; &lt;span style=&quot;color:#008000;&quot;&gt;//*TEST MAIN*&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum36&quot;&gt;  36:&lt;/span&gt; &lt;span style=&quot;color:#008000;&quot;&gt;//Caculate the result, and then print out to console.&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum37&quot;&gt;  37:&lt;/span&gt; &lt;span style=&quot;color:#0000ff;&quot;&gt;void&lt;/span&gt; main()&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum38&quot;&gt;  38:&lt;/span&gt; {    &lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum39&quot;&gt;  39:&lt;/span&gt;     clock_t start = clock();&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum40&quot;&gt;  40:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum41&quot;&gt;  41:&lt;/span&gt;     &lt;span style=&quot;color:#008000;&quot;&gt;//setup the threads number.&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum42&quot;&gt;  42:&lt;/span&gt;     &lt;span style=&quot;color:#008000;&quot;&gt;//omp_set_num_threads(NUMBER_THREADS);&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum43&quot;&gt;  43:&lt;/span&gt;     &lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum44&quot;&gt;  44:&lt;/span&gt;     &lt;span style=&quot;color:#008000;&quot;&gt;//calculate the result of sum.&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum45&quot;&gt;  45:&lt;/span&gt;     printf(&lt;span style=&quot;color:#006080;&quot;&gt;&amp;quot;SUM(1/N!): %.15f\n&amp;quot;&lt;/span&gt;, factorial());&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum46&quot;&gt;  46:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum47&quot;&gt;  47:&lt;/span&gt;     &lt;span style=&quot;color:#008000;&quot;&gt;//print the executing period.&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum48&quot;&gt;  48:&lt;/span&gt;     printf(&lt;span style=&quot;color:#006080;&quot;&gt;&amp;quot;Total execute: %ldms\n&amp;quot;&lt;/span&gt;, clock() - start);&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum49&quot;&gt;  49:&lt;/span&gt; }&lt;/pre&gt;
</code></pre><p><!--CRLF--><br></p>
<p>And here is the result of execution:</p>
<blockquote>
<font face="Courier New">SUM(1/N!): 1.718281828459046<br><br>Total execute: 1ms</font>

</blockquote>
<p>If you use a hi-accuracy float type, then you might need to parallelize the code, but as for ‘double’ type here, such algorithm should be fast enough.</p>
<p>Thanks!</p>

        
      </div>
    </div>

  

  
  
    
  

    <div class="post-list-item article">
      <h3 class="article-header">
        <a href="/2012/03/06/hello-world-console-app-parallelized-by-openmp/" >
  “Hello World” console app parallelized by OpenMP
</a>

      </h3>
      

      <div class="article-info">
        <a href="/2012/03/06/hello-world-console-app-parallelized-by-openmp/"><span class="article-date">
  2012-03-06
</span>
</a>
        
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Algorithms/">Algorithms</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Algorithms/Programming/">Programming</a></li></ul></li></ul>
	</span>


        
	<span class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C#</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/OpenMP/">OpenMP</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Parallel-Programming/">Parallel Programming</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vWorker/">vWorker</a></li></ul>
	</span>


      </div>
      <div class="article-entry">
        
          <p>OpenMP is a parallel programming standards which has been supported by lots of popular compilers. (In Visual C++, we will need to modify the project settings to enable OpenMP, see figure below.)</p>
<p>&#160;</p>
<p><a href="http://kevinxi.files.wordpress.com/2012/03/image2.png" target="_blank" rel="external"><img src="http://kevinxi.files.wordpress.com/2012/03/image_thumb2.png" alt="image" title="image"></a></p>
<p>&#160;</p>
<p>Now, let’s practice a simple algorithm problem: <em>for integers 1-10,000,000 finds out if the numbers are square or prime, and print out them into console. </em></p>
<blockquote>
<p>For Prime detection, I used to use <a href="http://kevinxi.wordpress.com/2010/12/25/a-monte-carlo-primer/" target="_blank" rel="external">Monte Carlo Prime</a> methodology, but it won’t always produce a correct answer. For example, they are 1299 Prime numbers between 1~10,000, Monte Carlo may give a wrong result (around 1320). As an old methodology, we test NUM by mod all odds between 3 and sqrt(NUM) here.  </p>
</blockquote>
<p><em><u>Sample Code</u></em><br>  <div style="border-bottom:silver 1px solid;text-align:left;border-left:silver 1px solid;line-height:12pt;background-color:#f4f4f4;width:97.5%;font-family:&#039;direction:ltr;max-height:800px;font-size:8pt;overflow:auto;border-top:silver 1px solid;cursor:text;border-right:silver 1px solid;margin:20px 0 10px;padding:4px;" id="codeSnippetWrapper">   <div style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;padding:0;" id="codeSnippet">     <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;"><span style="color:#606060;" id="lnum1">   1:</span> <span style="color:#008000;">//<em>QUESTION</em></span></pre><br><!--CRLF--></div></div></p>
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum2&quot;&gt;   2:&lt;/span&gt; &lt;span style=&quot;color:#008000;&quot;&gt;//For integers 1-10,000,000 finds out if the numbers are square or prime, &lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum3&quot;&gt;   3:&lt;/span&gt; &lt;span style=&quot;color:#008000;&quot;&gt;//displays the prime numbers and the square numbers.&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum4&quot;&gt;   4:&lt;/span&gt; &lt;span style=&quot;color:#008000;&quot;&gt;// &lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum5&quot;&gt;   5:&lt;/span&gt; &lt;span style=&quot;color:#008000;&quot;&gt;//*NOTICE*&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum6&quot;&gt;   6:&lt;/span&gt; &lt;span style=&quot;color:#008000;&quot;&gt;//OpenMP 2.0 is used here, so you might need VS2010 or some other OMP2.0 &lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum7&quot;&gt;   7:&lt;/span&gt; &lt;span style=&quot;color:#008000;&quot;&gt;//compiler to get the code compiled.&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum8&quot;&gt;   8:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum9&quot;&gt;   9:&lt;/span&gt; &lt;span style=&quot;color:#cc6633;&quot;&gt;#include&lt;/span&gt; &amp;lt;stdio.h&amp;gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum10&quot;&gt;  10:&lt;/span&gt; &lt;span style=&quot;color:#cc6633;&quot;&gt;#include&lt;/span&gt; &amp;lt;omp.h&amp;gt; &lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum11&quot;&gt;  11:&lt;/span&gt; &lt;span style=&quot;color:#cc6633;&quot;&gt;#include&lt;/span&gt; &amp;lt;ctime&amp;gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum12&quot;&gt;  12:&lt;/span&gt; &lt;span style=&quot;color:#cc6633;&quot;&gt;#include&lt;/span&gt; &amp;lt;cmath&amp;gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum13&quot;&gt;  13:&lt;/span&gt; &lt;span style=&quot;color:#cc6633;&quot;&gt;#include&lt;/span&gt; &amp;lt;cstdlib&amp;gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum14&quot;&gt;  14:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum15&quot;&gt;  15:&lt;/span&gt; &lt;span style=&quot;color:#008000;&quot;&gt;//*PRIME*&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum16&quot;&gt;  16:&lt;/span&gt; &lt;span style=&quot;color:#008000;&quot;&gt;//Theory 1: 1 is not a prime, 2/3/5 are primes.&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum17&quot;&gt;  17:&lt;/span&gt; &lt;span style=&quot;color:#008000;&quot;&gt;//Theory 2: test prime by divide n from 7 to sqrt(n).&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum18&quot;&gt;  18:&lt;/span&gt; &lt;span style=&quot;color:#0000ff;&quot;&gt;bool&lt;/span&gt; prime(&lt;span style=&quot;color:#0000ff;&quot;&gt;unsigned&lt;/span&gt; &lt;span style=&quot;color:#0000ff;&quot;&gt;int&lt;/span&gt; n)&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum19&quot;&gt;  19:&lt;/span&gt; {&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum20&quot;&gt;  20:&lt;/span&gt;     &lt;span style=&quot;color:#0000ff;&quot;&gt;unsigned&lt;/span&gt; &lt;span style=&quot;color:#0000ff;&quot;&gt;long&lt;/span&gt; c = 7;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum21&quot;&gt;  21:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum22&quot;&gt;  22:&lt;/span&gt;     &lt;span style=&quot;color:#0000ff;&quot;&gt;if&lt;/span&gt; (n == 2 || n == 3 || n == 5) &lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum23&quot;&gt;  23:&lt;/span&gt;         &lt;span style=&quot;color:#0000ff;&quot;&gt;return&lt;/span&gt; true;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum24&quot;&gt;  24:&lt;/span&gt;     &lt;span style=&quot;color:#0000ff;&quot;&gt;if&lt;/span&gt; (n % 2 == 0 || n % 3 == 0 || n % 5 == 0 || n == 1)&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum25&quot;&gt;  25:&lt;/span&gt;         &lt;span style=&quot;color:#0000ff;&quot;&gt;return&lt;/span&gt; false;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum26&quot;&gt;  26:&lt;/span&gt;     &lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum27&quot;&gt;  27:&lt;/span&gt;     &lt;span style=&quot;color:#0000ff;&quot;&gt;int&lt;/span&gt; maxc = &lt;span style=&quot;color:#0000ff;&quot;&gt;int&lt;/span&gt;(sqrt((&lt;span style=&quot;color:#0000ff;&quot;&gt;double&lt;/span&gt;)n));&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum28&quot;&gt;  28:&lt;/span&gt;     &lt;span style=&quot;color:#0000ff;&quot;&gt;while&lt;/span&gt; (c &amp;lt;= maxc)&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum29&quot;&gt;  29:&lt;/span&gt;     {&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum30&quot;&gt;  30:&lt;/span&gt;         &lt;span style=&quot;color:#0000ff;&quot;&gt;if&lt;/span&gt; (n % c == 0) &lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum31&quot;&gt;  31:&lt;/span&gt;             &lt;span style=&quot;color:#0000ff;&quot;&gt;return&lt;/span&gt; false;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum32&quot;&gt;  32:&lt;/span&gt;         c += 2;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum33&quot;&gt;  33:&lt;/span&gt;     }&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum34&quot;&gt;  34:&lt;/span&gt;     &lt;span style=&quot;color:#0000ff;&quot;&gt;return&lt;/span&gt; true;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum35&quot;&gt;  35:&lt;/span&gt; }&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum36&quot;&gt;  36:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum37&quot;&gt;  37:&lt;/span&gt; &lt;span style=&quot;color:#008000;&quot;&gt;//*SQUARE*&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum38&quot;&gt;  38:&lt;/span&gt; &lt;span style=&quot;color:#008000;&quot;&gt;//Theory 1: the last digital of square number must be 0/1/4/5/6/9.&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum39&quot;&gt;  39:&lt;/span&gt; &lt;span style=&quot;color:#008000;&quot;&gt;//Theory 2: fsqrt(n) == (int)fsqrt(n).&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum40&quot;&gt;  40:&lt;/span&gt; &lt;span style=&quot;color:#0000ff;&quot;&gt;bool&lt;/span&gt; square(&lt;span style=&quot;color:#0000ff;&quot;&gt;unsigned&lt;/span&gt; &lt;span style=&quot;color:#0000ff;&quot;&gt;int&lt;/span&gt; n)&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum41&quot;&gt;  41:&lt;/span&gt; {&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum42&quot;&gt;  42:&lt;/span&gt;     &lt;span style=&quot;color:#0000ff;&quot;&gt;int&lt;/span&gt; last = n % 10;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum43&quot;&gt;  43:&lt;/span&gt;     &lt;span style=&quot;color:#0000ff;&quot;&gt;if&lt;/span&gt; (last == 0 || last == 1 || last == 4 ||&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum44&quot;&gt;  44:&lt;/span&gt;         last == 5 || last == 6 || last == 9)&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum45&quot;&gt;  45:&lt;/span&gt;     {&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum46&quot;&gt;  46:&lt;/span&gt;         &lt;span style=&quot;color:#0000ff;&quot;&gt;double&lt;/span&gt; val = sqrt((&lt;span style=&quot;color:#0000ff;&quot;&gt;double&lt;/span&gt;)n);&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum47&quot;&gt;  47:&lt;/span&gt;         &lt;span style=&quot;color:#0000ff;&quot;&gt;return&lt;/span&gt; (val == (&lt;span style=&quot;color:#0000ff;&quot;&gt;int&lt;/span&gt;)val);&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum48&quot;&gt;  48:&lt;/span&gt;     }&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum49&quot;&gt;  49:&lt;/span&gt;     &lt;span style=&quot;color:#0000ff;&quot;&gt;return&lt;/span&gt; false;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum50&quot;&gt;  50:&lt;/span&gt; }&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum51&quot;&gt;  51:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum52&quot;&gt;  52:&lt;/span&gt; &lt;span style=&quot;color:#008000;&quot;&gt;//*TEST MAIN*&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum53&quot;&gt;  53:&lt;/span&gt; &lt;span style=&quot;color:#008000;&quot;&gt;//Using OpenMP 2.0, parallelize the for loop.&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum54&quot;&gt;  54:&lt;/span&gt; &lt;span style=&quot;color:#cc6633;&quot;&gt;#define&lt;/span&gt; NUMBER_THREADS 4&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum55&quot;&gt;  55:&lt;/span&gt; &lt;span style=&quot;color:#0000ff;&quot;&gt;void&lt;/span&gt; main()&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum56&quot;&gt;  56:&lt;/span&gt; {    &lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum57&quot;&gt;  57:&lt;/span&gt;     clock_t start = clock();&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum58&quot;&gt;  58:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum59&quot;&gt;  59:&lt;/span&gt;     &lt;span style=&quot;color:#008000;&quot;&gt;//setup the threads number.&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum60&quot;&gt;  60:&lt;/span&gt;     omp_set_num_threads(NUMBER_THREADS);&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum61&quot;&gt;  61:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum62&quot;&gt;  62:&lt;/span&gt;     &lt;span style=&quot;color:#008000;&quot;&gt;//parallelize the for loop, see&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum63&quot;&gt;  63:&lt;/span&gt;     &lt;span style=&quot;color:#008000;&quot;&gt;//http://supercomputingblog.com/openmp/tutorial-parallel-for-loops-with-openmp/&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum64&quot;&gt;  64:&lt;/span&gt;     &lt;span style=&quot;color:#cc6633;&quot;&gt;#pragma&lt;/span&gt; &lt;span style=&quot;color:#cc6633;&quot;&gt;omp&lt;/span&gt; parallel &lt;span style=&quot;color:#0000ff;&quot;&gt;for&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum65&quot;&gt;  65:&lt;/span&gt;     &lt;span style=&quot;color:#0000ff;&quot;&gt;for&lt;/span&gt; (&lt;span style=&quot;color:#0000ff;&quot;&gt;int&lt;/span&gt; i = 1; i &amp;lt; 10000; i++)&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum66&quot;&gt;  66:&lt;/span&gt;     {&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum67&quot;&gt;  67:&lt;/span&gt;         &lt;span style=&quot;color:#0000ff;&quot;&gt;if&lt;/span&gt; (square(i)) &lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum68&quot;&gt;  68:&lt;/span&gt;         {&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum69&quot;&gt;  69:&lt;/span&gt;             printf(&lt;span style=&quot;color:#006080;&quot;&gt;&amp;quot;%d\t | SQUARE\n&amp;quot;&lt;/span&gt;, i);&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum70&quot;&gt;  70:&lt;/span&gt;         }&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum71&quot;&gt;  71:&lt;/span&gt;         &lt;span style=&quot;color:#0000ff;&quot;&gt;else&lt;/span&gt; &lt;span style=&quot;color:#0000ff;&quot;&gt;if&lt;/span&gt; (prime(i)) &lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum72&quot;&gt;  72:&lt;/span&gt;         {&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum73&quot;&gt;  73:&lt;/span&gt;             printf(&lt;span style=&quot;color:#006080;&quot;&gt;&amp;quot;%d\t | PRIME\n&amp;quot;&lt;/span&gt;, i);&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum74&quot;&gt;  74:&lt;/span&gt;         }&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum75&quot;&gt;  75:&lt;/span&gt;     }&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum76&quot;&gt;  76:&lt;/span&gt;&amp;#160; &lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum77&quot;&gt;  77:&lt;/span&gt;     &lt;span style=&quot;color:#008000;&quot;&gt;// Usually, with /openmp option enabled in settings, it&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum78&quot;&gt;  78:&lt;/span&gt;     &lt;span style=&quot;color:#008000;&quot;&gt;// will take about 200ms to finish a 10,000 loop, and&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum79&quot;&gt;  79:&lt;/span&gt;     &lt;span style=&quot;color:#008000;&quot;&gt;// 2.2sec to finish a 10,000,000 loop.&lt;/span&gt;&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum80&quot;&gt;  80:&lt;/span&gt;     printf(&lt;span style=&quot;color:#006080;&quot;&gt;&amp;quot;Total execute: %ldms\n&amp;quot;&lt;/span&gt;, clock() - start);&lt;/pre&gt;
</code></pre><!--CRLF-->
<pre><code>&lt;pre style=&quot;text-align:left;line-height:12pt;background-color:white;width:100%;font-family:&amp;#039;direction:ltr;color:black;font-size:8pt;overflow:visible;border-style:none;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;color:#606060;&quot; id=&quot;lnum81&quot;&gt;  81:&lt;/span&gt; }&lt;/pre&gt;
</code></pre><p><!--CRLF--><br></p>
<p>Okay, let’s get the code compiled to a .exe, and run it in command line:</p>
<blockquote>
<font face="Courier New">C:\Users\Kevin\Desktop\test.exe &gt; output.log</font>

</blockquote>
<p>Per my test, it will take <em><u>2200ms</u></em> to process 10,000,000 numbers, and <u><em>5000ms</em></u> to process 20,000,000 numbers. The calculation doesn’t have dependence between each other,it is time consuming but still a linear increasing.</p>

        
      </div>
    </div>

  



  <div class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/archives/2012/03/page/2/">2</a><a class="extend next" rel="next" href="/archives/2012/03/page/2/">Next</a>
  </div>




          <div class="main-footer">
  
    © 2016 Kevin&#39;s Blog - Powered by <a href="http://hexo.io" target="_blank">Hexo</a> - Theme <a href="https://github.com/denjones/hexo-theme-chan" target="_blank">Chan</a>
  
</div>

      
        </div>
      
    </div>
  </div>
  <script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>

  <link rel="stylesheet" href="/PhotoSwipe/photoswipe.css">
  <link rel="stylesheet" href="/PhotoSwipe/default-skin/default-skin.css">

  <!-- Root element of PhotoSwipe. Must have class pswp. -->
  <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
             It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

      <!-- Container that holds slides.
                PhotoSwipe keeps only 3 of them in the DOM to save memory.
                Don't modify these 3 pswp__item elements, data is added later on. -->
      <div class="pswp__container">
        <div class="pswp__item"></div>
        <div class="pswp__item"></div>
        <div class="pswp__item"></div>
      </div>

      <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
      <div class="pswp__ui pswp__ui--hidden">

        <div class="pswp__top-bar">

          <!--  Controls are self-explanatory. Order can be changed. -->

          <div class="pswp__counter"></div>

          <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

          <button class="pswp__button pswp__button--share" title="Share"></button>

          <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

          <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

          <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
          <!-- element will get class pswp__preloader--active when preloader is running -->
          <div class="pswp__preloader">
            <div class="pswp__preloader__icn">
              <div class="pswp__preloader__cut">
                <div class="pswp__preloader__donut"></div>
              </div>
            </div>
          </div>
        </div>

        <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
          <div class="pswp__share-tooltip"></div>
        </div>

        <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>

        <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>

        <div class="pswp__caption">
          <div class="pswp__caption__center"></div>
        </div>
      </div>
    </div>
  </div>

  <script src="/PhotoSwipe/photoswipe.js"></script>
  <script src="/PhotoSwipe/photoswipe-ui-default.js"></script>


<script src="/perfect-scrollbar/js/min/perfect-scrollbar.min.js"></script>
<script src="/scripts/main.js"></script>

</body>
</html>
